(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{317:function(e,t,n){e.exports=n(619)},322:function(e,t,n){},324:function(e,t,n){},619:function(e,t,n){"use strict";n.r(t);var a=n(31),i=n(0),r=n.n(i),l=n(38),s=n.n(l),c=(n(322),n(3)),o=n(4),u=n(7),d=n(5),m=n(6),p="auth-token",v=["user"],h=25,f={name:"Project Manager",value:"PROJECT_MANAGER"},k=[{name:"Wizard",value:"WIZARD"},{name:"Developer",value:"DEVELOPER"},{name:"Designer",value:"DESIGNER"},f,{name:"Tester",value:"TESTER"},{name:"On-Boarder",value:"ONBOARDER"},{name:"Analyst",value:"ANALYST"}],g=k.map(function(e){return{name:e.name,value:e.value}}),b=[{name:"Annual leave",value:"ANNUAL_LEAVE"},{name:"Bereavement leave",value:"BEREAVEMENT_LEAVE"},{name:"Parental leave",value:"PARENTAL_LEAVE"},{name:"Paid parental leave",value:"PAID_PARENTAL_LEAVE"},{name:"Sick leave",value:"SICK_LEAVE"},{name:"Domestic leave",value:"DOMESTIC_LEAVE"},{name:"Special leave",value:"SPECIAL_LEAVE"},{name:"Long service leave",value:"LONG_SERVICE_LEAVE"},{name:"Jury service",value:"JURY_SERVICE"},{name:"Accident compensation",value:"ACCIDENT_COMPENSATION"},{name:"Employment relations education",value:"EMPLOYMENT_RELATIONS_EDUCATION"},{name:"Civil defence emergency",value:"CIVIL_DEFENCE_EMERGENCY"},{name:"Military service",value:"MILITARY_SERVICE"}],y=b.map(function(e){return{name:e.name,value:e.value}}),O=(b.map(function(e){return{name:e.name,value:e.value}}),n(637)),E=n(634),N=n(633),S=(n(324),n(20)),j=n.n(S),w=n(34),C=n(118),D=n(14),T=n(120),F=n.n(T),x=n(13),L=n(19),A=n(40),R=n.n(A),I=n(15),V=n.n(I);var B=n(58);function W(){var e=Object(C.a)(["\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        id\n        name\n        email\n        role\n      }\n    }\n  }\n"]);return W=function(){return e},e}function P(){var e=Object(C.a)(["\n  mutation SignupMutation($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      token\n      user {\n        id\n        name\n        email\n        role\n      }\n    }\n  }\n"]);return P=function(){return e},e}var q=F()(P()),M=F()(W()),_=function(e){function t(){var e,n;Object(c.a)(this,t);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={login:!0,email:"",password:"",name:""},n._confirm=function(){var e=Object(w.a)(j.a.mark(function e(t){var a,i,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.login?t.login:t.signup,i=a.token,r=a.user,n._saveUserData(i,r),n.props.history.push("/");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._saveUserData=function(e,t){var i=Object(a.a)({},t,{token:e});n.props.setUserDetails(i)},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.login,a=t.email,l=t.password,s=t.name,c=this.props.classes;return r.a.createElement("div",{className:c.container},r.a.createElement("h1",{className:c.title},n?"Login":"Sign Up"),r.a.createElement(D.Mutation,{mutation:n?M:q,variables:{email:a,password:l,name:s},onCompleted:function(t){return e._confirm(t)}},function(t,s){var o=s.loading,u=s.error;s.data;return r.a.createElement(i.Fragment,null,u?"Something went wrong please try again":null,o?"LOADING":null,!o&&r.a.createElement("form",{className:c.form,noValidate:!0,autoComplete:"off",onSubmit:t},!n&&r.a.createElement(R.a,{id:"name",label:"Name",className:c.textField,value:e.state.name,onChange:function(t){return e.setState({name:t.target.value})},margin:"normal"}),r.a.createElement(R.a,{id:"email",label:"Email",className:c.textField,value:a,onChange:function(t){return e.setState({email:t.target.value})},margin:"normal"}),r.a.createElement(R.a,{id:"password",label:"Password",type:"password",autoComplete:"current-password",className:c.textField,value:l,onChange:function(t){return e.setState({password:t.target.value})},margin:"normal"}),r.a.createElement("div",{className:c.actions},r.a.createElement(V.a,{variant:"contained",onClick:t,color:"primary",className:c.button},n?"login":"create account"),r.a.createElement(V.a,{color:"secondary",onClick:function(){return e.setState({login:!n})},className:c.button},n?"need to create an account?":"already have an account?"))))}))}}]),t}(i.Component),Q=Object(B.b)(function(e){return{docY:e.docY}},function(e){return{setUserDetails:function(t){return e({type:"SET_USER_DETAILS",payload:t})}}}),$=Object(L.a)(N.a,Object(x.withStyles)(function(e){return{container:{marginRight:"auto",marginLeft:"auto",maxWidth:"320px",padding:"".concat(3*e.spacing.unit,"px")},title:{textAlign:"center",fontSize:"22px",color:e.palette.primary.main},form:{display:"flex",flexDirection:"column"},actions:{display:"flex",flexDirection:"column"}}},{withTheme:!0}),Q)(_),H=n(304),U=n.n(H),G=n(92),Y=n.n(G),z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).handleBackButton=function(){n.props.history.goBack()},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(V.a,{className:t.button,variant:"outlined",color:"secondary",type:"submit",onClick:function(){return e.handleBackButton()}},"Back")}}]),t}(i.Component),K=Object(L.a)(N.a,Object(x.withStyles)(function(e){return{button:{borderRadius:0,margin:2*e.spacing.unit}}}))(z),J=n(47),Z=n.n(J),X=n(150),ee=n.n(X),te=n(80),ne=n.n(te),ae=n(103),ie=n.n(ae),re=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={anchorEl:null,selected:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handlePageChange=function(e){n.handleClose(),n.props.history.push(e)},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,n=Boolean(t),a=this.props,i=a.items,l=a.history,s=(a.match,a.classes);return r.a.createElement("div",null,r.a.createElement(Z.a,{color:"secondary","aria-label":"More","aria-owns":n?"long-menu":null,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(ie.a,null)),r.a.createElement(ee.a,{id:"long-menu",anchorEl:t,open:n,onClose:this.handleClose,color:"primary",PaperProps:{style:{maxHeight:216,width:200}}},i.map(function(t,n){return r.a.createElement(ne.a,{className:s.menuItem,key:n,color:"primary",selected:t.path===l.location.pathname,onClick:function(){return e.handlePageChange(t.path)}},t.title)})))}}]),t}(r.a.Component),le=Object(N.a)(Object(L.a)(Object(x.withStyles)(function(e){return{close:{width:4*e.spacing.unit,height:4*e.spacing.unit},menuItem:{color:e.palette.primary.main}}}))(re)),se=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={anchorEl:null,selected:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handlePageChange=function(e){n.handleClose(),n.props.history.push(e)},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=localStorage.getItem(p),n=this.state.anchorEl,a=Boolean(n),i=this.props;i.items,i.history,i.match,i.classes;return r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(Z.a,{color:"secondary","aria-label":"More","aria-owns":a?"account-menu":null,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(ie.a,null)),r.a.createElement(ee.a,{id:"account-menu",anchorEl:n,open:a,onClose:this.handleClose,color:"primary",PaperProps:{style:{maxHeight:216,width:200}}},t&&r.a.createElement(ne.a,{onClick:function(){return e.handlePageChange("/create/document")}},"Create Document"),r.a.createElement(ne.a,{onClick:this.handleClose},"My account"),t?r.a.createElement(ne.a,{onClick:function(){e.props.logoutUser()}},"Logout"):r.a.createElement(ne.a,{onClick:function(){return e.handlePageChange("/login")}},"Login")))}}]),t}(r.a.Component),ce=Object(N.a)(Object(L.a)(Object(x.withStyles)(function(e){return{close:{width:4*e.spacing.unit,height:4*e.spacing.unit},menuItem:{color:e.palette.primary.main}}}))(se)),oe=n(50),ue=n(60),de=n.n(ue),me=n(71),pe=n.n(me),ve=n(67),he=n.n(ve),fe=n(18),ke=n.n(fe),ge=Object(x.withStyles)(function(e){return{card:{position:"relative",minWidth:275,borderRadius:0,padding:1*e.spacing.unit,margin:1*e.spacing.unit},underLay:{position:"absolute",zIndex:1,top:0,left:0,height:"100%",width:"100%"},cardInner:{position:"relative",zIndex:500},title:{marginBottom:16,fontSize:18,backgroundColor:"rgba(255,255,255, 0.5)"}}})(function(e){var t=e.classes,n=e.handleClick,a=e.route,i=a.title,l=(a.url,a.icon);return r.a.createElement(de.a,{className:t.card},l&&r.a.createElement("div",{className:t.underLay},l),r.a.createElement("div",{className:t.cardInner},r.a.createElement(he.a,null,r.a.createElement(ke.a,{className:t.title,color:"textPrimary"},i)),r.a.createElement(pe.a,null,r.a.createElement(V.a,{size:"small",onClick:n,color:"primary"},"Launch"))))}),be=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={auth:!0,anchorEl:null},n.handlePageChange=function(e){n.props.history.push(e)},n._renderPanel=function(e){return r.a.createElement(ge,{key:e.path,route:e,handleClick:function(){return n.handlePageChange(e.path)}})},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=(localStorage.getItem(p),this.props),n=t.user,a=t.classes,i=(t.history,t.match,n.role);return i?r.a.createElement("div",{className:a.root},ur.filter(function(e){return e.restricted.includes(i)}).filter(function(e){return e.panel}).map(function(t,n){return e._renderPanel(t)})):r.a.createElement("div",null,"A role Must be set. Try logging out and back in. If this fails please contact your administrator")}}]),t}(r.a.Component),ye=Object(B.b)(function(e){return{user:e.user}}),Oe=Object(L.a)(N.a,Object(x.withStyles)(function(e){return{root:{flexGrow:1,display:"flex",flex:"1 1 0",justifyContent:"space-evenly",flexWrap:"wrap",padding:4*e.spacing.unit},flex:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}}},{withTheme:!0}),ye)(be),Ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Oe,null))}}]),t}(i.Component),Ne=Object(L.a)(N.a,L.b)(Ee),Se=n(280),je=n.n(Se),we=n(91),Ce=n.n(we),De=n(90),Te=n.n(De),Fe=n(89),xe=n.n(Fe),Le=n(195),Ae=n.n(Le),Re=n(196),Ie=n.n(Re),Ve=Object(x.withStyles)(function(e){return{root:{padding:4*e.spacing.unit,textAlign:"left",width:"100%",boxSizing:"border-box"},formContainer:{padding:"".concat(4*e.spacing.unit,"px 0"),height:6*e.spacing.unit,display:"flex",flexWrap:"wrap",justifyContent:"space-around"},formControl:{minWidth:"180px",margin:e.spacing.unit},button:{borderRadius:0},codeEditor:{display:"flex",height:"calc(100vh - ".concat(28*e.spacing.unit+4,"px )"),margin:"0 -".concat(4*e.spacing.unit,"px")},editorField:{overflowX:"auto",flexBasis:0,flexGrow:1}}})(function(e){var t=e.classes,n=e.value,a=e.name,i=e.options,l=e.label,s=e.selectID,c=e.helperText,o=e.handleChange;return r.a.createElement(Te.a,{className:t.formControl},l&&r.a.createElement(xe.a,{htmlFor:s},l),r.a.createElement(Ie.a,{value:n,onChange:function(e){return o(e.target.value)},displayEmpty:!0,name:a,className:t.selectEmpty},i.map(function(e,t){return r.a.createElement(Ce.a,{key:t,value:e.value},e.name)})),c&&r.a.createElement(Ae.a,null,"Without label"))}),Be=Object(x.withStyles)({card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{marginBottom:16,fontSize:14},pos:{marginBottom:12}})(function(e){var t=e.user,n=e.classes,a=(e.handleRoleChange,e.setUserRole),i=t.id,l=t.name,s=t.email,c=t.role;return r.a.createElement(de.a,{className:n.card},r.a.createElement(he.a,null,r.a.createElement(ke.a,{className:n.title,color:"textSecondary"},i),r.a.createElement(ke.a,{variant:"headline",component:"h2"},l),r.a.createElement(ke.a,{className:n.title,color:"textSecondary"},s),r.a.createElement(ke.a,{className:n.pos,color:"textSecondary"},"Role:",c)),r.a.createElement(pe.a,null,r.a.createElement(je.a,null,"WIZARD"!==c?r.a.createElement("div",null,r.a.createElement(Ve,{value:c,options:g,handleChange:function(e){return a(e)}})):"This man is a wizard and cannot be altered by the likes of you")))});function We(){var e=Object(C.a)(["\n  mutation changeUserRole($id: ID!, $role: ROLE!) {\n    changeUserRole(id: $id, role: $role) {\n      name\n      id\n      role\n    }\n  }\n"]);return We=function(){return e},e}var Pe=F()(We()),qe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:62,source:{body:"query {\n  allUsers {\n    id\n    name\n    email\n    role\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Me=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i))))._getQueryVariables=function(){return{id:n.props.location.pathname.split("/")[2]}},n._setUserRole=function(){var e=Object(w.a)(j.a.mark(function e(t,a){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.changeUserRole({variables:{id:a.id,role:t},refetchQueries:[{query:qe}]});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n._changeUserRole=function(){var e=Object(w.a)(j.a.mark(function e(t,a){var i;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=!0===t.target.checked?"ADMIN":"USER",e.next=3,n.props.changeUserRole({variables:{id:a.id,role:i},refetchQueries:[{query:qe}]});case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(D.Query,{query:qe},function(t){var n=t.loading,a=t.error,i=t.data;t.subscribeToMore;if(n)return r.a.createElement("div",null,"Fetching");if(a)return r.a.createElement("div",null,"Error");var l=i.allUsers;return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},l&&l.map(function(t){return r.a.createElement(Be,{key:t.id,user:t,setUserRole:function(n){return e._setUserRole(n,t)},handleRoleChange:function(n){return e._changeUserRole(n,t)}})}))})}}]),t}(i.Component),_e=Object(D.compose)(Object(D.graphql)(Pe,{name:"changeUserRole"}),N.a,D.withApollo)(Me),Qe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(_e,null)}}]),t}(i.Component),$e=Object(L.a)(N.a,L.b)(Qe),He=n(104),Ue=n.n(He),Ge=[{title:"Manage Users",path:"/wizard/users",icon:r.a.createElement(Ue.a,{color:"primary",style:{height:"100%",width:"100%",opacity:.4}}),panel:!0,main:!0,restricted:["WIZARD","PROJECT_MANAGER"],component:$e}],Ye=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={auth:!0,anchorEl:null},n.handlePageChange=function(e){n.props.history.push(e)},n._renderPanel=function(e){return r.a.createElement(ge,{key:e.path,route:e,handleClick:function(){return n.handlePageChange(e.path)}})},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=(localStorage.getItem(p),this.props),n=t.user,a=t.classes,i=(t.history,t.match,n.role);return i?r.a.createElement("div",{className:a.root},Ge.filter(function(e){return e.restricted.includes(i)}).filter(function(e){return e.panel}).map(function(t,n){return e._renderPanel(t)})):r.a.createElement("div",null,"A role Must be set. Try logging out and back in. If this fails please contact your administrator")}}]),t}(r.a.Component),ze=Object(B.b)(function(e){return{user:e.user}}),Ke=Object(L.a)(N.a,Object(x.withStyles)(function(e){return{root:{flexGrow:1,display:"flex",flex:"1 1 0",justifyContent:"space-evenly",flexWrap:"wrap",padding:4*e.spacing.unit},flex:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}}},{withTheme:!0}),ze)(Ye),Je=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ke,null))}}]),t}(i.Component),Ze=Object(D.compose)(N.a,D.withApollo)(Je),Xe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ze,null))}}]),t}(i.Component),et=Object(L.a)(N.a,L.b)(Xe),tt=n(152),nt=n.n(tt),at=n(153),it=n.n(at),rt=n(154),lt=n.n(rt),st=n(155),ct=n.n(st),ot=n(56),ut=n.n(ot),dt=n(51),mt=n(281),pt=n.n(mt),vt=["Bio","Blow","Bo","Bow","Bro","Bros","Crow","Crowe","Doh","Dough","Faux","Flow","Foe","Glow","Grow","Hoe","Jo","Joe","Know","Low","Moe","Mow","No","Oh","Pro","Row","Schmoe","Sew","Show","Slow","Snow","So","Sow","Stow","Though","Throw","Toe","Tow","Whoa","Woe","Yo"],ht=["Beam","Bream","Cream","Creme","Dream","Gleam","Ream","Scheme","Scream","Seam","Seem","Steam","Stream","Theme"],ft=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).generatePhrase=function(){var e=Math.floor(Math.random()*(vt.length-1)),t=Math.floor(Math.random()*(ht.length-1));return"".concat(vt[e]," ").concat(ht[t])},n.handleAdd=Object(w.a)(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({phrases:[]});case 2:t=n.state.phrases.concat(n.generatePhrase()),n.setState({phrases:t});case 4:case"end":return e.stop()}},e,this)})),n.renderPhrases=function(){var e=n.props.classes;return n.state.phrases.map(function(t,a){return r.a.createElement("div",{className:e.phraseItem,key:t,onClick:function(){return n.handleRemove(a)}},t)})},n.state={phrases:[]},n.handleAdd=n.handleAdd.bind(Object(dt.a)(Object(dt.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleRemove",value:function(e){var t=this.state.phrases.slice();t.splice(e,1),this.setState({phrases:t})}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.renderPhrases();return r.a.createElement("div",null,r.a.createElement(V.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleAdd()},className:t.button},"GO TEAM"),r.a.createElement(pt.a,{transitionName:"example",transitionEnterTimeout:1e3,transitionLeaveTimeout:200},n))}}]),t}(i.Component),kt=Object(x.withStyles)(function(e){return{phraseItem:Object(a.a)({},e.typography.display4,{color:e.palette.primary.main}),button:{marginTop:e.spacing.unit,marginRight:e.spacing.unit}}})(ft),gt=n(151),bt=n.n(gt),yt=n(200),Ot=n.n(yt),Et=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={time:0,start:0,isOn:!1},n.startTimer=n.startTimer.bind(Object(dt.a)(Object(dt.a)(n))),n.stopTimer=n.stopTimer.bind(Object(dt.a)(Object(dt.a)(n))),n.resetTimer=n.resetTimer.bind(Object(dt.a)(Object(dt.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"updateTimerState",value:function(){var e=Date.now()-this.state.start;this.setState({time:e}),this.props.timeTaken(e)}},{key:"startTimer",value:function(){var e=this;this.setState({time:this.state.time,start:Date.now()-this.state.time,isOn:!0}),this.timer=setInterval(function(){return e.updateTimerState()},1)}},{key:"stopTimer",value:function(){this.setState({isOn:!1}),clearInterval(this.timer)}},{key:"resetTimer",value:function(){this.setState({time:0})}},{key:"render",value:function(){var e=0==this.state.time?r.a.createElement(V.a,{onClick:this.startTimer,variant:"outlined"},"start"):null,t=this.state.isOn?r.a.createElement(V.a,{onClick:this.stopTimer,variant:"outlined"},"stop"):null,n=0==this.state.time||this.state.isOn?null:r.a.createElement(V.a,{onClick:this.resetTimer,variant:"outlined"},"reset"),a=0==this.state.time||this.state.isOn?null:r.a.createElement(V.a,{onClick:this.startTimer,variant:"outlined"},"resume");return r.a.createElement("div",null,r.a.createElement(ke.a,{gutterBottom:!0,variant:"h5",component:"h2",color:"secondary"},this.state.time),e,a,t,n)}}]),t}(i.Component),Nt=Object(x.withStyles)(function(e){return{card:{minWidth:275,borderRadius:0,padding:1*e.spacing.unit,margin:1*e.spacing.unit},doneStrip:{display:"flex",alignItems:"center",padding:2*e.spacing.unit},doneText:{padding:e.spacing.unit}}})(Et),St=Object(x.withStyles)(function(e){return{searchField:{margin:2*e.spacing.unit}}})(function(e){var t=e.id,n=e.label,a=e.classes,i=e.value,l=e.handleChange;e.multiline;return r.a.createElement(R.a,{id:t,label:n,className:a.searchField,value:i,multiline:!0,onChange:function(e){return l(e.target.value)},margin:"normal"})}),jt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={notes:null,finished:!1,uploading:!1,timeTaken:0},n.handleNotesChange=function(e){n.setState({notes:e})},n._updateUserStandup=function(){n.setState({finished:!0})},n.updateTimeTaken=function(e){n.setState({timeTaken:e})},n._createStandupDetails=Object(w.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({uploading:!0});case 2:return e.next=4,n.props.createStandupDetail({variables:{userId:n.props.user.id,timeTake:n.state.timeTaken,notes:n.state.notes}});case 4:n.setState({uploading:!1,finished:!0});case 5:case"end":return e.stop()}},e,this)})),n.getRoleName=function(e){return k.find(function(t){return t.value===e}).name},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=(t.handleClick,t.user),i=(a.id,a.name),l=(a.email,a.role),s=this.state,c=s.notes,o=s.finished,u=s.timeTaken;return o?r.a.createElement(de.a,{className:n.card},r.a.createElement("div",{className:n.doneStrip},r.a.createElement(Ot.a,{color:"secondary"}),r.a.createElement("span",{className:n.doneText},i," - ",u," - ",c))):r.a.createElement(de.a,{className:n.card},r.a.createElement(he.a,null,r.a.createElement(ke.a,{gutterBottom:!0,variant:"title",component:"h1",color:"primary"},i),r.a.createElement(ke.a,{gutterBottom:!0,variant:"subtitle1",component:"p"},this.getRoleName(l)),r.a.createElement(Nt,{timeTaken:function(t){return e.updateTimeTaken(t)}}),r.a.createElement(St,{label:"Notes",value:c,handleChange:function(t){return e.handleNotesChange(t)}})),r.a.createElement(pe.a,null,o?r.a.createElement("div",null,r.a.createElement(Ot.a,null)):r.a.createElement(V.a,{size:"small",onClick:function(){return e._createStandupDetails()},color:"primary"},"Finish Rant")))}}]),t}(i.Component),wt=Object(D.compose)(Object(x.withStyles)(function(e){return{card:{minWidth:275,borderRadius:0,padding:1*e.spacing.unit,margin:1*e.spacing.unit},doneStrip:{display:"flex",alignItems:"center",padding:2*e.spacing.unit},doneText:{padding:e.spacing.unit}}}),Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createStandupDetail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"timeTaken"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"notes"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createStandupDetail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"timeTaken"},value:{kind:"Variable",name:{kind:"Name",value:"timeTaken"}}},{kind:"Argument",name:{kind:"Name",value:"notes"},value:{kind:"Variable",name:{kind:"Name",value:"notes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeTaken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:194,source:{body:"mutation createStandupDetail($userId: ID!, $timeTaken: Int, $notes: String) {\n  createStandupDetail(userId: $userId, timeTaken: $timeTaken, notes: $notes) {\n    id\n    timeTaken\n    notes\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"createStandupDetail"}),D.withApollo)(jt),Ct=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.allUsers;return r.a.createElement("div",{className:t.container},n&&n.map(function(e){return r.a.createElement(wt,{user:e})}))}}]),t}(i.Component),Dt=Object(x.withStyles)(function(e){return{container:{padding:2*e.spacing.unit,display:"flex",alignItems:"center",flexWrap:"wrap"}}})(Ct),Tt=n(102),Ft=n.n(Tt),xt=Object(x.withStyles)(function(e){return{root:{padding:4*e.spacing.unit,textAlign:"left",width:"100%",boxSizing:"border-box"},formContainer:{padding:"".concat(4*e.spacing.unit,"px 0"),height:6*e.spacing.unit,display:"flex",flexWrap:"wrap",justifyContent:"space-around"},formControl:{minWidth:"180px",margin:e.spacing.unit},button:{borderRadius:0},codeEditor:{display:"flex",height:"calc(100vh - ".concat(28*e.spacing.unit+4,"px )"),margin:"0 -".concat(4*e.spacing.unit,"px")},editorField:{overflowX:"auto",flexBasis:0,flexGrow:1}}})(function(e){var t=e.classes,n=e.values,a=e.options,i=e.label,l=e.selectID,s=e.handleChange;return r.a.createElement(Te.a,{className:t.formControl},r.a.createElement(xe.a,{htmlFor:l},i),r.a.createElement(Ft.a,{multiple:!0,value:n,onChange:function(e){return s(e.target.value)},inputProps:{name:l,id:l}},a.map(function(e,t){return r.a.createElement(Ce.a,{key:t,value:e.value},e.name)})))}),Lt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={filterRoles:[f.value]},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data,n=t.allUsers,a=t.loading,i=t.error;t.fetchMore,t.refetch,t.startPolling,t.stopPolling,t.subScribeToMore,t.updateQuery,t.variables;return a?r.a.createElement(bt.a,{style:{padding:40},color:"secondary",thickness:7}):i?"an error ocurred":r.a.createElement("div",null,r.a.createElement(xt,{label:"Select the user roles",values:this.state.filterRoles,handleChange:function(t){return e.setState({filterRoles:t})},options:g}),r.a.createElement(Dt,{allUsers:n.filter(function(t){return e.state.filterRoles.includes(t.role)})}))}}]),t}(i.Component),At=Object(D.compose)(Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:62,source:{body:"query {\n  allUsers {\n    id\n    name\n    email\n    role\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}),D.withApollo)(Lt);var Rt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={activeStep:0},n.handleNext=function(){n.setState(function(e){return{activeStep:e.activeStep+1}})},n.handleBack=function(){n.setState(function(e){return{activeStep:e.activeStep-1}})},n.handleReset=function(){n.setState({activeStep:0})},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=["Pre Standup","Member standup details","SHOUT IT!"],a=this.state.activeStep;return r.a.createElement("div",{className:t.root},r.a.createElement(nt.a,{activeStep:a,orientation:"vertical"},n.map(function(i,l){return r.a.createElement(it.a,{key:i},r.a.createElement(lt.a,null,i),r.a.createElement(ct.a,null,r.a.createElement(ke.a,null,function(e){switch(e){case 0:return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Get any remote users on video conference."),r.a.createElement("li",null,"Make sure the remote users can communicate with the team.")));case 1:return r.a.createElement(At,null);case 2:return r.a.createElement(kt,null);default:return"Unknown step"}}(l)),r.a.createElement("div",{className:t.actionsContainer},r.a.createElement("div",null,r.a.createElement(V.a,{disabled:0===a,onClick:e.handleBack,className:t.button},"Back"),r.a.createElement(V.a,{variant:"contained",color:"primary",onClick:e.handleNext,className:t.button},a===n.length-1?"Finish":"Next")))))})),a===n.length&&r.a.createElement(ut.a,{square:!0,elevation:0,className:t.resetContainer},r.a.createElement(ke.a,null,'All steps completed - you"re finished'),r.a.createElement(V.a,{onClick:this.handleReset,className:t.button,color:"secondary"},"Reset")))}}]),t}(r.a.Component),It=Object(x.withStyles)(function(e){return{root:{width:"100%"},button:{marginTop:e.spacing.unit,marginRight:e.spacing.unit},actionsContainer:{marginBottom:2*e.spacing.unit},resetContainer:{padding:3*e.spacing.unit}}})(Rt),Vt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(It,null))}}]),t}(i.Component),Bt=Object(L.a)(N.a,L.b)(Vt),Wt=n(45),Pt=n(30),qt=n.n(Pt),Mt=function(e){var t=e.setLeaveType,n=e.type;return r.a.createElement(Ve,{label:"Leave Type",value:n,options:y,handleChange:function(e){return t(e)}})},_t=n(282),Qt=n.n(_t),$t=n(11),Ht=n.n($t),Ut=n(283),Gt=n.n(Ut),Yt=n(284),zt=n.n(Yt),Kt=n(285),Jt=n.n(Kt),Zt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).handleDateChange=function(e){n.props.handleDateChange(e)},n.openPicker=function(){n.picker.wrapper.open()},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.selectedDate,a=t.label,i=t.classes;return r.a.createElement("div",{className:this.props.classes.container},r.a.createElement("div",{className:"picker"},r.a.createElement(Qt.a,{keyboardIcon:r.a.createElement(Gt.a,{className:i.navArrow}),leftArrowIcon:r.a.createElement(zt.a,null),rightArrowIcon:r.a.createElement(Jt.a,null),pickerRef:function(t){e.picker=t},label:a,format:"D MMM YYYY",value:n,onChange:this.handleDateChange,clearLabel:"clear",cancelLabel:"cancel"})))}}]),t}(i.PureComponent),Xt=Ht()(function(e){return{container:{display:"flex",flexDirection:"column"},MuiIconButton:{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.main},navArrow:{color:e.palette.secondary.main}}})(Zt),en=function(e){var t=e.handleDateChange,n=e.lastDayOfWork,a=e.firstDayOfLeave,i=e.lastDayOfLeave,l=e.firstDayOfWork;return r.a.createElement("div",null,r.a.createElement(Xt,{label:"Last day of work",selectedDate:n,handleDateChange:function(e){return t(e,"lastDayOfWork")}}),r.a.createElement(Xt,{label:"First day of leave",selectedDate:a,handleDateChange:function(e){return t(e,"firstDayOfLeave")}}),r.a.createElement(Xt,{label:"Last day of leave",selectedDate:i,handleDateChange:function(e){return t(e,"lastDayOfLeave")}}),r.a.createElement(Xt,{label:"First day of work",selectedDate:l,handleDateChange:function(e){return t(e,"firstDayOfWork")}}))},tn=Object(x.withStyles)(function(e){return{searchField:{margin:2*e.spacing.unit}}})(function(e){var t=e.id,n=e.label,a=e.classes,i=e.value,l=e.defaultValue,s=e.handleChange;return r.a.createElement(R.a,{id:t,label:n,className:a.searchField,type:"number",value:i,defaultValue:l,InputLabelProps:{shrink:!0},onChange:function(e){return s(e.target.value)},margin:"normal"})}),nn=function(e){var t=e.daysOfLeave,n=e.publicHolidays,a=e.handleChange;return r.a.createElement("div",null,r.a.createElement(tn,{label:"Public Holidays",value:t,handleChange:function(e){return a("daysOfLeave",e)}}),r.a.createElement(tn,{label:"Days of actual leave",value:n,handleChange:function(e){return a("publicHolidays",e)}}))},an={lastDayOfWork:qt()().format("YYYY-MM-DD"),firstDayOfLeave:qt()().format("YYYY-MM-DD hh:mm a"),lastDayOfLeave:qt()().format("YYYY-MM-DD hh:mm a"),firstDayOfWork:qt()().format("YYYY-MM-DD hh:mm a")};var rn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state=Object(a.a)({activeStep:0,uploading:!1},an,{daysOfLeave:0,publicHolidays:0,type:"SICK_LEAVE"}),n.handleInputChange=function(e,t){n.setState(Object(Wt.a)({},e,t))},n.handleDateChange=function(e,t){var a=qt()(e).format("YYYY-MM-DD hh:mm a");n.setState(Object(Wt.a)({},t,a))},n.handleNext=function(){n.setState(function(e){return{activeStep:e.activeStep+1}})},n.handleBack=function(){n.setState(function(e){return{activeStep:e.activeStep-1}})},n.handleReset=function(){n.setState({activeStep:0})},n.handleFinish=Object(w.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({uploading:!0}),e.next=3,n.props.createLeave({variables:{userId:n.props.user.id,lastDayOfWork:qt()(n.state.lastDayOfWork).format(),firstDayOfLeave:qt()(n.state.firstDayOfLeave).format(),lastDayOfLeave:qt()(n.state.lastDayOfLeave).format(),firstDayOfWork:qt()(n.state.firstDayOfWork).format(),daysOfLeave:parseInt(n.state.daysOfLeave),publicHolidays:parseInt(n.state.publicHolidays),type:n.state.type}});case 3:n.setState(function(e){return{uploading:!1,activeStep:e.activeStep+1}});case 4:case"end":return e.stop()}},e,this)})),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getStepContent",value:function(e){var t=this;switch(e){case 0:return r.a.createElement(Mt,{setLeaveType:function(e){return t.handleInputChange("type",e)},type:this.state.type});case 1:return r.a.createElement(en,{lastDayOfWork:this.state.lastDayOfWork,firstDayOfLeave:this.state.firstDayOfLeave,lastDayOfLeave:this.state.lastDayOfLeave,firstDayOfWork:this.state.firstDayOfWork,handleDateChange:function(e,n){return t.handleDateChange(e,n)}});case 2:return r.a.createElement(nn,{daysOfLeave:this.state.daysOfLeave,publicHolidays:this.state.publicHolidays,handleChange:function(e,n){return t.handleInputChange(e,n)}});case 3:return r.a.createElement(ke.a,null,"All steps have been completed, use the process button below to request leave");default:return"Unknown step"}}},{key:"render",value:function(){var e=this,t=this.props.classes,n=["Leave Type","Leave Dates","Leave Days","Finish"],a=this.state,l=a.activeStep,s=a.uploading;return r.a.createElement("div",{className:t.root},r.a.createElement(nt.a,{activeStep:l,orientation:"vertical"},n.map(function(a,c){return r.a.createElement(it.a,{key:a},r.a.createElement(lt.a,null,a),r.a.createElement(ct.a,null,r.a.createElement(ke.a,null,e.getStepContent(c)),r.a.createElement("div",{className:t.actionsContainer},r.a.createElement("div",null,s?r.a.createElement(i.Fragment,null,r.a.createElement(ke.a,null,"Requesting leave please wait"),r.a.createElement(bt.a,{style:{padding:40},color:"secondary",thickness:7})):r.a.createElement(i.Fragment,null,r.a.createElement(V.a,{disabled:0===l,onClick:e.handleBack,className:t.button},"Back"),r.a.createElement(V.a,{variant:"contained",color:"primary",onClick:l===n.length-1?e.handleFinish:e.handleNext,className:t.button},l===n.length-1?"Finish":"Next"))))))})),l===n.length&&r.a.createElement(ut.a,{square:!0,elevation:0,className:t.resetContainer},r.a.createElement(ke.a,null,'All steps completed - you"re finished'),r.a.createElement(V.a,{onClick:this.handleReset,className:t.button,color:"secondary"},"Reset")))}}]),t}(i.Component),ln=Object(B.b)(function(e){return{user:e.user}}),sn=Object(D.compose)(Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createLeave"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lastDayOfWork"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"firstDayOfLeave"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lastDayOfLeave"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"firstDayOfWork"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"daysOfLeave"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"publicHolidays"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LEAVE_TYPE"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createLeave"},arguments:[{kind:"Argument",name:{kind:"Name",value:"lastDayOfWork"},value:{kind:"Variable",name:{kind:"Name",value:"lastDayOfWork"}}},{kind:"Argument",name:{kind:"Name",value:"firstDayOfLeave"},value:{kind:"Variable",name:{kind:"Name",value:"firstDayOfLeave"}}},{kind:"Argument",name:{kind:"Name",value:"lastDayOfLeave"},value:{kind:"Variable",name:{kind:"Name",value:"lastDayOfLeave"}}},{kind:"Argument",name:{kind:"Name",value:"firstDayOfWork"},value:{kind:"Variable",name:{kind:"Name",value:"firstDayOfWork"}}},{kind:"Argument",name:{kind:"Name",value:"daysOfLeave"},value:{kind:"Variable",name:{kind:"Name",value:"daysOfLeave"}}},{kind:"Argument",name:{kind:"Name",value:"publicHolidays"},value:{kind:"Variable",name:{kind:"Name",value:"publicHolidays"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLeaveDays"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:522,source:{body:"mutation createLeave(\n  $userId: ID!\n  $lastDayOfWork: DateTime!\n  $firstDayOfLeave: DateTime!\n  $lastDayOfLeave: DateTime!\n  $firstDayOfWork: DateTime!\n  $daysOfLeave: Int!\n  $publicHolidays: Int!\n  $type: LEAVE_TYPE!\n) {\n  createLeave(\n    lastDayOfWork: $lastDayOfWork\n    firstDayOfLeave: $firstDayOfLeave\n    lastDayOfLeave: $lastDayOfLeave\n    firstDayOfWork: $firstDayOfWork\n    daysOfLeave: $daysOfLeave\n    publicHolidays: $publicHolidays\n    type: $type\n    userId: $userId\n  ) {\n    id\n    totalLeaveDays\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"createLeave"}),D.withApollo,Object(x.withStyles)(function(e){return{root:{width:"100%"},button:{marginTop:e.spacing.unit,marginRight:e.spacing.unit},actionsContainer:{marginBottom:2*e.spacing.unit},resetContainer:{padding:3*e.spacing.unit}}}),ln)(rn),cn=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(sn,null)}}]),t}(i.Component),on=Object(L.a)(N.a,L.b)(cn),un=n(8),dn=n.n(un),mn=n(291),pn=n.n(mn),vn=n(292),hn=n.n(vn),fn=n(62),kn=n.n(fn),gn=n(287),bn=n.n(gn),yn=n(293),On=n.n(yn),En=n(201),Nn=n.n(En),Sn=n(288),jn=n.n(Sn),wn=n(202),Cn=n.n(wn),Dn=n(162),Tn=n.n(Dn),Fn=n(289),xn=n.n(Fn),Ln=n(290),An=n.n(Ln),Rn=n(46),In=n(313),Vn=n(198),Bn=n.n(Vn),Wn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).handleClose=function(){n.props.onClose(n.props.selectedValue)},n.handleListItemClick=function(e){n.props.onClose(e)},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.onClose,e.content),n=(e.selectedValue,Object(In.a)(e,["classes","onClose","content","selectedValue"]));return r.a.createElement(Bn.a,Object.assign({onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},n),r.a.createElement("div",null,t),r.a.createElement("div",null))}}]),t}(r.a.Component),Pn=Object(x.withStyles)({})(Wn),qn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1},n.handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(e){n.setState({selectedValue:e,open:!1})},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.content;return r.a.createElement("div",{style:{display:"inline"}},r.a.createElement("span",{onClick:this.handleClickOpen,style:{cursor:"pointer"}},t),r.a.createElement(Pn,{content:n,selectedValue:this.state.selectedValue,open:this.state.open,onClose:this.handleClose}))}}]),t}(r.a.Component),Mn=n(199),_n=n.n(Mn),Qn=n(286),$n=n.n(Qn),Hn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).handleChange=function(e){return function(t){n.props.handleOptionChange(Object(Wt.a)({},e,t.target.checked))}},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.options;return r.a.createElement("div",null,t.map(function(t,n){return r.a.createElement($n.a,{key:n,control:r.a.createElement(_n.a,{checked:t.show,onChange:e.handleChange(t.id),value:t.id,color:"primary"}),label:t.label})}))}}]),t}(r.a.Component),Un=Object(x.withStyles)(function(e){return{searchField:{display:"block",margin:e.spacing.unit}}})(function(e){var t=e.classes,n=e.value,a=e.handleChange;e.fullWidth;return r.a.createElement(R.a,{id:"SearchFilter",label:"Search Filter",className:t.searchField,fullWidth:!0,value:n,onChange:function(e){return a(e.target.value)},margin:"normal"})}),Gn=Object(x.withStyles)(function(e){return{root:{},content:{overflow:"hidden",flexBasis:"100%",transition:"all 0.5s ease"},closed:{height:0,minHeight:0,opacity:0},open:{opacity:1,height:10*e.spacing.unit,minHeight:10*e.spacing.unit}}})(function(e){var t=e.classes,n=e.searchCol,a=e.searchVal,l=e.updateSearchCol,s=e.updateSearchVal,c=e.options,o=e.open,u=[t.content];return o?u.push(t.open):u.push(t.closed),r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:u.join(" ")},r.a.createElement(Ve,{label:"Column Filter",value:n,selectID:"SearchFilter",handleChange:function(e){return l(e)},options:c}),r.a.createElement(Un,{value:a,handleChange:function(e){return s(e)}})))}),Yn=Object(x.withStyles)(function(e){return{root:{},content:{overflow:"hidden",flexBasis:"100%",transition:"all 0.5s ease"},closed:{height:0,minHeight:0,opacity:0},open:{overflow:"auto",opacity:1,height:8*e.spacing.unit,minHeight:8*e.spacing.unit}}})(function(e){var t=[e.classes.content];return e.open?t.push(e.classes.open):t.push(e.classes.closed),r.a.createElement("div",{className:t.join(" ")},r.a.createElement(Hn,{options:e.columnHeaders,handleOptionChange:function(t){e.updateShowProp(t)}}))}),zn=n(156),Kn=n.n(zn),Jn=n(117),Zn=n.n(Jn),Xn=n(157),ea=n.n(Xn),ta=Object(x.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:e.spacing.unit/4},noLabel:{marginTop:3*e.spacing.unit}}})(function(e){var t=e.classes,n=e.values,a=e.options,i=e.label,l=e.selectID,s=e.handleChange,c=e.removeItem;return console.log("options => ",a),r.a.createElement(Te.a,{className:t.formControl},r.a.createElement(xe.a,{htmlFor:l},i),r.a.createElement(Ft.a,{multiple:!0,value:n,onChange:function(e){return s(e.target.value)},inputProps:{name:l,id:l},renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map(function(e){var n=a.find(function(t){return t.value===e});return r.a.createElement(Kn.a,{onDelete:function(){return c(e)},icon:r.a.createElement(ea.a,{mini:!0}),variant:"outlined",color:"secondary",label:n.name,className:t.chip,key:e})}))},input:r.a.createElement(Zn.a,{id:"select-multiple-chip"})},a.map(function(e,t){return r.a.createElement(Ce.a,{key:t,value:e.value},e.name)})))}),na=Object(x.withStyles)(function(e){return{root:{}}})(function(e){var t=[e.classes.content];return e.open?t.push(e.classes.open):t.push(e.classes.closed),r.a.createElement("div",{className:t.join(" ")},r.a.createElement(Ve,{label:"tag filter type",value:e.tagType,options:[{name:"match",value:"match"},{name:"contains",value:"contains"}],handleChange:function(t){return e.setTagType(t)}}),r.a.createElement(ta,{values:e.values,selectID:"TAGS-SELECTOR",label:"TAGS",options:e.options,handleChange:function(t){return e.updateTags(t)},removeItem:function(t){return e.removeItem(t)}}))}),aa=n(123),ia=0;function ra(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var la=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).createSortHandler=function(e){return function(t){n.props.onRequestSort(t,e)}},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSelectAllClick,a=t.order,i=t.orderBy,l=t.numSelected,s=t.rowCount,c=t.columnHeaders;return r.a.createElement(bn.a,null,r.a.createElement(Nn.a,null,r.a.createElement(kn.a,{padding:"checkbox"},r.a.createElement(Cn.a,{indeterminate:l>0&&l<s,checked:l===s,onChange:n})),c.map(function(t){return r.a.createElement(kn.a,{key:t.id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:i===t.id&&a},r.a.createElement(Tn.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(jn.a,{active:i===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(r.a.Component),sa=function(e){var t=e.numSelected,n=e.classes,a=e.columnHeaders,i=e.title,l=e.searchOpen,s=e.searchValue,c=e.searchCol,o=e.toggleSearch,u=e.updateSearchCol,d=e.updateShowValues,m=e.children;return r.a.createElement("div",null,r.a.createElement(Y.a,{className:dn()(n.root,Object(Wt.a)({},n.highlight,t>0))},r.a.createElement("div",{className:n.title},t>0?r.a.createElement(ke.a,{color:"inherit",variant:"subheading"},t," selected"):r.a.createElement(ke.a,{variant:"title",id:"tableTitle"},i)),r.a.createElement("div",{className:n.spacer}),r.a.createElement("div",{className:n.actions},t>0?r.a.createElement(Tn.a,{title:"Delete"},r.a.createElement(Z.a,{"aria-label":"Delete"},r.a.createElement(xn.a,null))):r.a.createElement(Tn.a,{title:"Filter list"},r.a.createElement(Z.a,{"aria-label":"Filter list",onClick:function(){return o()}},r.a.createElement(An.a,null))))),r.a.createElement(Y.a,{className:n.barHolder},r.a.createElement(Yn,{open:l,columnHeaders:a,searchCol:c,updateSearchCol:function(e){return u(e)},searchValue:s,updateShowValues:function(e){return d(e)},updateSearch:function(t){return e.updateSearch(t)},updateShowProp:function(t){return e.updateShowProp(t)}}),r.a.createElement(Gn,{open:l,searchCol:e.searchCol,searchVal:e.searchValue,updateSearchCol:function(t){return e.updateSearchCol(t)},updateSearchVal:function(t){return e.updateSearch(t)},options:e.columnHeaders.filter(function(e){return!0===e.searchable}).map(function(e){return{name:e.label,value:e.id}})}),l?m:null))};sa=Object(x.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Rn.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},barHolder:{flexWrap:"wrap",minHeight:0},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(sa);var ca=function(e,t){var n=e.split(".").reduce(function(e,t){return e[t]},t);return n||""},oa=function(e){var t=e.content,n=e.limitChar;return n&&t.length>n?r.a.createElement("div",null,t.substring(0,n-3),r.a.createElement(qn,{text:"...",content:t})):t},ua=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleRequestSort=function(e,t){var a=t,i="desc";n.state.orderBy===t&&"desc"===n.state.order&&(i="asc"),n.setState({order:i,orderBy:a})},n.handleSelectAllClick=function(e,t){t?n.setState(function(e){return{selected:e.stateData.map(function(e){return e.id})}}):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected,i=a.indexOf(t),r=[];-1===i?r=r.concat(a,t):0===i?r=r.concat(a.slice(1)):i===a.length-1?r=r.concat(a.slice(0,-1)):i>0&&(r=r.concat(a.slice(0,i),a.slice(i+1))),n.setState({selected:r})},n.handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value})},n.updateShowProp=function(e){var t=Object.keys(e).map(function(e){return e})[0],a=Object.values(e).map(function(e){return e})[0],i=n.state.columnHeaders,r=i.findIndex(function(e){return e.id===t}),l=i[r];l.show=a,i.splice(r,1,l),n.setState({columnHeaders:i})},n.updateShowValues=function(e){var t=n.state.columnHeaders.map(function(t){return Object(a.a)({},t,{show:e.includes(t.id)})});n.setState({columnHeaders:t})},n.updateSearch=function(e){n.setState({searchValue:e})},n.updateSearchCol=function(e){n.setState({searchCol:e})},n.filterData=function(e,t,n){var a=Object(aa.c)(".",t);return e.filter(function(e){return Object(aa.b)(a,e).toString().toLowerCase().includes(n.toLowerCase())})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.toggleBoolean=function(e){return n.setState(Object(Wt.a)({},e,!n.state[e]))},n.removeTagByValue=function(e){var t=n.state.appliedTags,a=t.findIndex(function(t){return t===e});t.splice(a,1),n.setState({appliedTags:t})};var i=n.props.columnHeaders,r=n.props.data.map(function(e){return function(e){var t=e.description;return{id:ia+=1,description:t}}(e)}),l=i.reduce(function(e,t){return Object(a.a)({},e,Object(Wt.a)({},t.id,t.show))},{});return n.state={order:"asc",orderBy:"calories",selected:[],searchOpen:!1,searchCol:"",withSearch:!0,searchValue:"",filterProps:Object(a.a)({},l),stateData:r,columnHeaders:i,searchHeaders:i.filter(function(e){return!0===e.searchable}),tags:e.tags?e.tags.options:[],tagType:"contains",appliedTags:[],page:0,rowsPerPage:5},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.subscribeToMore&&this.props.subscribeToMore()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.title,i=t.data,l=this.state,s=l.stateData,c=l.order,o=l.orderBy,u=l.selected,d=l.rowsPerPage,m=l.page,p=l.searchCol,v=l.searchValue,h=l.searchOpen,f=l.tagType,k=(Math.min(d,s.length-m*d),v.length>=1&&p.length>=1?this.filterData(i,p,v):i);return this.props.tags&&(k=function(e,t,n,a,i){if(t.length<1)return e;switch(i){case"match":return e.filter(function(e){return e[n].filter(function(e){return t.includes(e[a])}).length===t.length});case"contains":return e.filter(function(e){return e[n].filter(function(e){return t.includes(e[a])}).length>=1});default:return e.filter(function(e){return e[n].filter(function(e){return t.includes(e[a])}).length===t.length})}}(k,this.state.appliedTags,this.props.tags.found,this.props.tags.key,f)),r.a.createElement(ut.a,{square:!0,className:n.root},r.a.createElement(sa,{title:a,numSelected:u.length,columnHeaders:this.state.columnHeaders,searchOpen:h,toggleSearch:function(){return e.toggleBoolean("searchOpen")},searchCol:this.state.searchCol,updateSearchCol:function(t){return e.updateSearchCol(t)},searchValue:this.state.searchValue,updateSearch:function(t){return e.updateSearch(t)},updateShowProp:function(t){return e.updateShowProp(t)},updateShowValues:function(t){return e.updateShowValues(t)}},this.props.tags&&r.a.createElement(na,{values:this.state.appliedTags,options:this.state.tags,updateTags:function(t){return e.setState({appliedTags:t})},tagType:f,setTagType:function(t){return e.setState({tagType:t})},removeItem:function(t){return e.removeTagByValue(t)}})),r.a.createElement("div",{className:n.tableWrapper},r.a.createElement(pn.a,{className:n.table,"aria-labelledby":"tableTitle"},r.a.createElement(la,{columnHeaders:this.state.columnHeaders.filter(function(e){return!0===e.show}),numSelected:u.length,order:c,orderBy:o,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:s.length}),r.a.createElement(hn.a,null,k&&k.sort(function(e,t){return"desc"===e?function(e,n){return ra(e,n,t)}:function(e,n){return-ra(e,n,t)}}(c,o)).slice(m*d,m*d+d).map(function(t){var n=e.isSelected(t.id);return r.a.createElement(Nn.a,{hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,key:t.id,selected:n},r.a.createElement(kn.a,{padding:"checkbox"},r.a.createElement(Cn.a,{checked:n,color:"primary",onClick:function(n){return e.handleClick(n,t.id)}})),e.state.columnHeaders.filter(function(e){return!0===e.show}).map(function(n,a){if("btnFunc"===n.type)return r.a.createElement(kn.a,Object.assign({key:a,numeric:n.numeric,style:{minWidth:"90px"},component:n.tableRenderKey,padding:"dense"},n.tableRenderProps),r.a.createElement("div",{onClick:function(){return e.props.executeFunc(n.funcName,t)}},n.icon));if("numberOfObj"===n.type){var i=ca(n.found,t).length;return r.a.createElement(kn.a,Object.assign({key:a,numeric:n.numeric,style:{minWidth:"90px"},component:n.tableRenderKey,padding:"dense"},n.tableRenderProps),r.a.createElement(oa,{content:i,limitChar:n.limitChar}))}return"deep"===n.type?r.a.createElement(kn.a,Object.assign({key:a,numeric:n.numeric,style:{minWidth:"90px"},component:n.tableRenderKey,padding:"dense"},n.tableRenderProps),r.a.createElement(oa,{content:ca(n.found,t),limitChar:n.limitChar})):"map"===n.type?r.a.createElement(kn.a,Object.assign({key:a,numeric:n.numeric,style:{minWidth:"90px"},component:n.tableRenderKey,padding:"dense"},n.tableRenderProps),r.a.createElement(oa,{content:ca(n.found,t).map(function(e,t){return r.a.createElement("span",{key:t},n.mapKeys.map(function(t,n){return r.a.createElement("span",{key:n},e[t],",")}))}),limitChar:n.limitChar})):"tag"===n.type?r.a.createElement(kn.a,Object.assign({key:a,numeric:n.numeric,style:{minWidth:"90px"},component:n.tableRenderKey,padding:"dense"},n.tableRenderProps),ca(n.found,t).map(function(e,t){return r.a.createElement("span",{key:t},e[n.tagKey])})):r.a.createElement(kn.a,Object.assign({key:a,numeric:n.numeric,style:{minWidth:"90px"},component:n.tableRenderKey,padding:"dense"},n.tableRenderProps),r.a.createElement(oa,{content:t[n.id],limitChar:n.limitChar}))}))})))),r.a.createElement(On.a,{component:"div",count:k.length,rowsPerPage:d,page:m,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),da=Object(x.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:"100%"},tableWrapper:{overflowX:"auto"}}})(ua),ma=n(158),pa=n.n(ma),va=n(294),ha=n.n(va),fa=Object(x.withStyles)(function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",height:8*e.spacing.unit,background:Object(Rn.fade)(e.palette.primary.main,.5)},date:{fontSize:"22px"}}})(function(e){var t=e.classes,n=e.date,a=e.prev,i=e.next,l=e.changeMonth;return r.a.createElement("div",{className:t.root},r.a.createElement(V.a,{onClick:function(){return l(-1)},color:"secondary",className:t.button},r.a.createElement(pa.a,{className:t.rightIcon}),a),r.a.createElement("div",{className:t.date},n),r.a.createElement(V.a,{onClick:function(){return l(1)},color:"secondary",className:t.button},i,r.a.createElement(ha.a,{className:t.rightIcon})))}),ka=Object(x.withStyles)(function(e){return{root:{display:"flex",alignItems:"center",height:8*e.spacing.unit,background:Object(Rn.fade)(e.palette.primary.main,.5)},item:{flex:"1 1 0",textAlign:"center"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement("span",{className:t.item},"Sunday"),r.a.createElement("span",{className:t.item},"Monday"),r.a.createElement("span",{className:t.item},"Tuesday"),r.a.createElement("span",{className:t.item},"Wednesday"),r.a.createElement("span",{className:t.item},"Thursday"),r.a.createElement("span",{className:t.item},"Friday"),r.a.createElement("span",{className:t.item},"Saturday"))}),ga=n(295),ba=n.n(ga),ya=document.getElementById("modal-root"),Oa=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).el=document.createElement("div"),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){ya.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){ya.removeChild(this.el)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.close,i=t.title;return s.a.createPortal(r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.content,style:{maxWidth:"".concat(this.props.width,"px"),maxHeight:"".concat(this.props.height,"px")}},r.a.createElement("div",{className:n.modalHeader},r.a.createElement("h2",{className:n.modalTitle},i),r.a.createElement(Z.a,{color:"secondary","aria-label":"Delete",className:n.closeBtn,onClick:function(){return a()}},r.a.createElement(ba.a,{fontSize:"small"}))),r.a.createElement("div",{className:n.modalBody},this.props.children)),r.a.createElement("div",{className:n.overlay,onClick:function(){return e.props.close()}},"Overlay")),this.el)}}]),t}(i.Component),Ea=Object(x.withStyles)(function(e){return{root:{display:"flex",position:"fixed",top:0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},content:{background:"#FFF",overflow:"auto",zIndex:9e3,height:"100%",width:"100%"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:2*e.spacing.unit},modalTitle:{margin:0,alignSelf:"center",color:e.palette.primary.main,fontWeight:300},closeBtn:{},modalBody:{padding:"0 ".concat(2*e.spacing.unit,"px ").concat(2*e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},overlay:{position:"fixed",top:0,background:Object(Rn.fade)(e.palette.primary.main,.2),height:"100%",width:"100%",zIndex:1e3}}})(Oa),Na=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={modalIsOpen:!1},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"render",value:function(){var e=this,t=this.state.modalIsOpen,n=this.props,a=n.classes,i=n.data;return r.a.createElement("div",{className:a.root},r.a.createElement("span",{onClick:function(){return e.openModal()}},i.name),t?r.a.createElement(Ea,{width:800,height:500,close:function(){return e.closeModal()}},r.a.createElement("div",{onClick:function(){return e.closeModal()}},"Close"),r.a.createElement("div",null,"date: ",i.prettyDate),r.a.createElement("div",null,"Applied for on:",i.created),r.a.createElement("div",null,"Details: ",i.details)):null)}}]),t}(i.Component),Sa=Object(x.withStyles)(function(e){return{root:{padding:"2px 4px",margin:"0 0 4px 0",borderBottom:"1px dashed ".concat(Object(Rn.fade)(e.palette.secondary.main,.5))}}})(Na),ja=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.prettyDate,a=(e.date,e.data);return r.a.createElement("div",{className:t.root},r.a.createElement("p",{className:t.dateLabel},r.a.createElement("span",{className:t.labelInner},this.props.dayNumber)),r.a.createElement("div",{className:t.rootInner},r.a.createElement("div",{className:t.itemsWrapper},a.filter(function(e){return e.prettyDate===n}).map(function(e,t){return r.a.createElement(Sa,{key:t,data:e})}))))}}]),t}(i.PureComponent),wa=Object(L.a)(Object(x.withStyles)(function(e){return{root:{border:"1px solid lightgrey",flex:"1 1 0",overflow:"hidden",height:"100%"},rootInner:{height:"100%",left:"30px",paddingRight:"30px",position:"relative",overflow:"auto"},dateLabel:{position:"absolute",background:Object(Rn.fade)(e.palette.primary.main,.5),borderRadius:25,height:25,width:25,margin:2,display:"flex",alignItems:"center"},labelInner:{marginLeft:"auto",marginRight:"auto"},itemsWrapper:{marginTop:25}}}),L.b)(ja),Ca=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.date!==this.props.date}},{key:"render",value:function(){for(var e=this.props,t=e.classes,n=e.WeekNumber,a=e.date,i=e.month,l=i.daysInMonth(),s=Math.ceil(l/7),c=[],o=0;o<7;o++){var u={prettyDate:a.format("dddd Do MMMM"),number:a.format("D"),isCurrentMonth:a.month()===i.month(),isToday:a.isSame(new Date,"day"),date:a,dateCompare:a.format("YYYY-MM-DD"),year:a.format("YYYY"),month:a.format("MM"),day:a.format("DD")};c.push(r.a.createElement(wa,{key:o,data:this.props.data,dayNumber:u.number,prettyDate:u.prettyDate,isToday:u.isToday,eventClick:this.props.eventClick,date:u.date,year:u.year,month:u.month,day:u.day})),Object.assign({},a,a.add(1,"d"))}return r.a.createElement("div",{className:t.week,style:{height:"calc(100% / ".concat(s,")")},key:c[0].toString()},r.a.createElement("div",{className:t.weekDays,ref:"WeeksDays-".concat(n),id:"WeeksDays-".concat(n)},c))}}]),t}(i.Component),Da=Object(x.withStyles)(function(e){return Object(Wt.a)({week:{height:"auto",width:"100%",border:"none","min-height":"50px"},weekDays:{height:"100%",display:"flex"}},e.breakpoints.up("md"),{week:{border:"none","&:last-child":{"box-shadow":"none"}}})})(Ca),Ta=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).changeMonth=function(e){var t=n.state.date.add(e,"months");n.setState({date:t}),n.props.fetchMoreData({date:t})},n.state={date:e.initDate?qt()(e.initDate):qt()()},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"renderWeeks",value:function(e){for(var t=[],n=!1,a=qt()(e).startOf("month").day("Sunday"),i=a.month(),l=0;!n;){var s=qt()(a).startOf("week").format(),c=qt()(a).endOf("week").format();t.push(r.a.createElement(Da,{WeekNumber:l+1,data:this.props.data?this.props.data.filter(function(e){return e.date.isSame(a,"month")}):[],startWeek:s,endWeek:c,key:a.toString(),date:a.clone(),month:this.state.date,select:this.select,selected:this.props.selected,eventClick:this.props.eventClick})),Object.assign({},a,a.add(1,"w")),n=l++>2&&i!==a.month(),i=a.month()}return t}},{key:"render",value:function(){var e=this,t=this.state.date,n=qt()(t).add(1,"months").format("MMMM"),a=qt()(t).add(-1,"months").format("MMMM");return r.a.createElement(i.Fragment,null,this.props.loading?r.a.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",backgroundColor:"rgba(255,255,255,0.5)",zIndex:9999}},"Loading overlay"):null,r.a.createElement(fa,{date:t.format("MMMM YYYY"),prev:a,next:n,changeMonth:function(t){return e.changeMonth(t)}}),r.a.createElement(ka,null),r.a.createElement("div",{style:{height:"550px"}},this.renderWeeks(this.state.date)))}}]),t}(i.Component),Fa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LeaveFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"betweenFilter"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"LeaveOrderByInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leaveFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"betweenFilter"},value:{kind:"Variable",name:{kind:"Name",value:"betweenFilter"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"leaves"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastDayOfWork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastDayOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfWork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"daysOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publicHolidays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLeaveDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:537,source:{body:"query LeaveFeedQuery(\n  $filter: String\n  $first: Int\n  $skip: Int\n  $betweenFilter: [DateTime!]\n  $orderBy: LeaveOrderByInput\n) {\n  leaveFeed(\n    betweenFilter: $betweenFilter\n    filter: $filter\n    first: $first\n    skip: $skip\n    orderBy: $orderBy\n  ) {\n    count\n    leaves {\n      id\n      status\n      notes\n      createdAt\n      lastDayOfWork\n      firstDayOfLeave\n      lastDayOfLeave\n      firstDayOfWork\n      daysOfLeave\n      publicHolidays\n      totalLeaveDays\n      forUser {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},xa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newLeave"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastDayOfWork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastDayOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfWork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"daysOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publicHolidays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLeaveDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:293,source:{body:"subscription {\n  newLeave {\n    node {\n      id\n      status\n      notes\n      createdAt\n      lastDayOfWork\n      firstDayOfLeave\n      lastDayOfLeave\n      firstDayOfWork\n      daysOfLeave\n      publicHolidays\n      totalLeaveDays\n      forUser {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},La=[{id:"daysOfLeave",numeric:!1,disablePadding:!0,label:"daysOfLeave",show:!0,tableRenderKey:"th",found:"daysOfLeave"},{id:"firstDayOfLeave",numeric:!1,disablePadding:!0,label:"firstDayOfLeave",show:!0,tableRenderKey:"th"},{id:"lastDayOfLeave",numeric:!1,disablePadding:!0,label:"lastDayOfLeave",show:!0,tableRenderKey:"th"},{id:"status",numeric:!1,disablePadding:!0,label:"status",show:!0,tableRenderKey:"th"},{id:"acceptLeave",numeric:!1,disablePadding:!0,label:"Accept leave ",show:!0,type:"btnFunc",funcName:"acceptLeave",found:"votes",tableRenderKey:"th"},{id:"forUser.name",numeric:!1,disablePadding:!0,label:"User",show:!0,type:"deep",found:"forUser.name",tableRenderKey:"th"}],Aa=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).acceptLeave=function(){var e=Object(w.a)(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,n.props.acceptLeave({variables:{id:a}});case 3:e.sent;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._subscribeToNewLeave=function(){var e=Object(w.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({document:xa,updateQuery:function(e,t){var n=t.subscriptionData;if(console.log("subscriptionData => ",n),!n.data)return e;var a=n.data.newLeave.node;return console.log(" prev => ",e),Object.assign({},e,{leaveFeed:{leaves:[a].concat(Object(oe.a)(e.leaveFeed.leaves)),count:e.leaveFeed.leaves.length+1,__typename:e.leaveFeed.__typename}})}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.executeFunctionByName=function(e,t){switch(console.log("The dataObj ",t),e){case"acceptLeave":n.acceptLeave(t);break;case"helloWorld":n.helloWorld();break;case"upVote":n.upVote(t.id);break;default:alert("No funct specified")}},n.helloWorld=function(){alert("HELLO WORLD!")},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(D.Query,{query:Fa},function(t){var n=t.loading,a=t.error,l=t.data,s=t.subscribeToMore;if(n)return r.a.createElement("div",null,"Fetching");if(a)return r.a.createElement("div",null,"Error");e._subscribeToNewLeave(s);var c=l.leaveFeed,o=(c.count,c.leaves);console.log("Here is data ",l),console.log("Here is leavesToRender ",c);var u=c.leaves.reduce(function(e,t){for(var n=[],a=qt()(t.firstDayOfLeave),i=qt()(t.lastDayOfLeave).diff(a,"days")+1,r=qt()(t.firstDayOfLeave),l=0;l<i;l++)n.push({name:t.forUser.name,created:t.createdAt,details:"some details about this piece of data",date:r,prettyDate:r.format("dddd Do MMMM")}),r.add(1,"days");return e.concat(n)},[]);return console.log("calendarData ",u),r.a.createElement(i.Fragment,null,r.a.createElement("h1",null,"Employee leave"),r.a.createElement(Ta,{data:u}),r.a.createElement(da,{columnHeaders:La,title:"Table of leave",data:o,executeFunc:function(t,n){e.executeFunctionByName(t,n)}}))})}}]),t}(i.Component),Ra=Object(D.compose)(Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"acceptLeave"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"acceptLeave"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:82,source:{body:"mutation acceptLeave($id: ID!) {\n  acceptLeave(id: $id) {\n    id\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"acceptLeave"}),Object(x.withStyles)(function(e){return{root:{}}}),D.withApollo)(Aa),Ia=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"This is the all leave page!"),r.a.createElement(Ra,null))}}]),t}(i.Component),Va=Object(L.a)(N.a,L.b)(Ia),Ba={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LeaveFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"betweenFilter"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"LeaveOrderByInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leaveFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"betweenFilter"},value:{kind:"Variable",name:{kind:"Name",value:"betweenFilter"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"leaves"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastDayOfWork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastDayOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfWork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"daysOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publicHolidays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLeaveDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:537,source:{body:"query LeaveFeedQuery(\n  $filter: String\n  $first: Int\n  $skip: Int\n  $betweenFilter: [DateTime!]\n  $orderBy: LeaveOrderByInput\n) {\n  leaveFeed(\n    betweenFilter: $betweenFilter\n    filter: $filter\n    first: $first\n    skip: $skip\n    orderBy: $orderBy\n  ) {\n    count\n    leaves {\n      id\n      status\n      notes\n      createdAt\n      lastDayOfWork\n      firstDayOfLeave\n      lastDayOfLeave\n      firstDayOfWork\n      daysOfLeave\n      publicHolidays\n      totalLeaveDays\n      forUser {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Wa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newLeave"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastDayOfWork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastDayOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfWork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"daysOfLeave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publicHolidays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLeaveDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:293,source:{body:"subscription {\n  newLeave {\n    node {\n      id\n      status\n      notes\n      createdAt\n      lastDayOfWork\n      firstDayOfLeave\n      lastDayOfLeave\n      firstDayOfWork\n      daysOfLeave\n      publicHolidays\n      totalLeaveDays\n      forUser {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Pa=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).generateFilterDates=function(e){return[qt()(e).add(-2,"month").startOf("month").format(),qt()(e).add(2,"month").endOf("month").format()]},n._subscribeToNewLeave=function(){var e=Object(w.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({document:Wa,updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.newLeave.node;return Object.assign({},e,{leaveFeed:{leaves:[a].concat(Object(oe.a)(e.leaveFeed.leaves)),count:e.leaveFeed.leaves.length+1,__typename:e.leaveFeed.__typename}})}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._fetchMoreLeave=function(){var e=Object(w.a)(j.a.mark(function e(t,i,r){var l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({betweenFilter:n.generateFilterDates(t.date)});case 2:console.groupEnd(),l=n._getQueryVariables(),i({variables:Object(a.a)({},l),updateQuery:function(e,t){var n=t.fetchMoreResult;return n?Object.assign({},e,{leaveFeed:Object(oe.a)(e.leaveFeed).concat(Object(oe.a)(n.leaveFeed))}):e}});case 5:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}(),n._getQueryVariables=function(){return{first:100,skip:0,betweenFilter:n.state.betweenFilter,orderBy:"lastDayOfWork_ASC"}},n.state={date:qt()(),betweenFilter:n.generateFilterDates(qt()())},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(D.Query,{query:Ba,variables:this._getQueryVariables(),fetchPolicy:"cache-and-network"},function(t){var n=t.loading,a=t.error,i=t.data,l=t.subscribeToMore,s=t.fetchMore;if(n)return r.a.createElement(Ta,{loading:n,initDate:e.state.date,fetchMoreData:function(t){return e._fetchMoreLeave(t,s,i)}});if(a)return r.a.createElement("div",null,"Error");e._subscribeToNewLeave(l);var c=i.leaveFeed,o=(c.count,c.leaves,c.leaves.reduce(function(e,t){for(var n=[],a=qt()(t.firstDayOfLeave),i=qt()(t.lastDayOfLeave).diff(a,"days")+1,r=qt()(t.firstDayOfLeave),l=0;l<i;l++)n.push({name:t.forUser.name,created:t.createdAt,details:"some details about this piece of data",date:r,prettyDate:r.format("dddd Do MMMM")}),r.add(1,"days");return e.concat(n)},[]));return r.a.createElement(Ta,{initDate:e.state.date,data:o,fetchMoreData:function(t){return e._fetchMoreLeave(t,s,i)}})})}}]),t}(i.Component),qa=Object(D.compose)(Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"acceptLeave"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"acceptLeave"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:82,source:{body:"mutation acceptLeave($id: ID!) {\n  acceptLeave(id: $id) {\n    id\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"acceptLeave"}),Object(x.withStyles)(function(e){return{root:{}}}),D.withApollo)(Pa),Ma=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(qa,null)}}]),t}(i.Component),_a=Object(L.a)(N.a,L.b)(Ma),Qa=n(81),$a=n.n(Qa),Ha=n(82),Ua=n.n(Ha),Ga=n(83),Ya=n.n(Ga),za=n(68),Ka=n.n(za),Ja=n(159),Za=n.n(Ja),Xa=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={search:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleSearchChange",value:function(e){this.setState({search:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.search,n=this.props,a=n.classes,i=n.executeSearch;return r.a.createElement("div",{className:a.searchBar},r.a.createElement("input",{placeholder:"search stock questions",className:a.searchBox,value:t,onChange:function(t){return e.handleSearchChange(t)}}),r.a.createElement(V.a,{onClick:function(){return i(e.state.search)},variant:"outlined",color:"secondary",className:a.searchBtn},r.a.createElement(Za.a,null),"Search"))}}]),t}(i.Component),ei=Object(x.withStyles)(function(e){return{root:{},searchBar:{display:"flex",flexWrap:"wrap"},searchBox:{flex:"4 1 0",minWidth:330,fontSize:22,outline:"0 0 5px rgba(81, 203, 238, 1)",padding:3*e.spacing.unit,color:e.palette.primary.main,"&:focus":{outline:"2px solid ".concat(e.palette.secondary.main),border:"none"}},searchBtn:{flex:"1 1 0",borderRadius:0,minWidth:130,width:"100%"}}})(Xa),ti=(n(248),n(192),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.question,a=n.name,i=n.answers,l=n.links,s=n.notes;return r.a.createElement("div",null,r.a.createElement("h2",{className:t.question},a),r.a.createElement("div",{className:t.root},r.a.createElement($a.a,null,r.a.createElement(Ua.a,{expandIcon:r.a.createElement(Ka.a,null)},r.a.createElement(ke.a,{className:t.heading},"Answers"," ",r.a.createElement("span",{className:t.amount},"(",i.length,")"))),r.a.createElement(Ya.a,null,i&&r.a.createElement("ul",null,i.map(function(e,t){return r.a.createElement("li",null,r.a.createElement(ke.a,{key:t},e.response))})))),r.a.createElement($a.a,null,r.a.createElement(Ua.a,{expandIcon:r.a.createElement(Ka.a,null)},r.a.createElement(ke.a,{className:t.heading},"Notes ",r.a.createElement("span",{className:t.amount},"(",s.length,")"))),r.a.createElement(Ya.a,null,s.length>=1?r.a.createElement("ul",null,s.map(function(e,t){return r.a.createElement("li",{key:t},e.content)})):"No Notes")),r.a.createElement($a.a,null,r.a.createElement(Ua.a,{expandIcon:r.a.createElement(Ka.a,null)},r.a.createElement(ke.a,{className:t.heading},"Links ",r.a.createElement("span",{className:t.amount},"(",l.length,")"))),r.a.createElement(Ya.a,null,l.length>=1?r.a.createElement("div",null,l.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("a",{target:"__blank",href:e.url},e.name))})):"No Links"))))}}]),t}(i.Component)),ni=Object(x.withStyles)(function(e){return{root:{},question:{fontSize:18,color:e.palette.primary.main},answersList:{padding:20},amount:{color:e.palette.secondary.main}}})(ti),ai=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.results;return r.a.createElement("div",null,e.map(function(e,t){return r.a.createElement(ni,{key:t,question:e})}))}}]),t}(i.Component),ii={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchQuestions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchQuestions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"response"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:340,source:{body:"query searchQuestions($search: String) {\n  searchQuestions(search: $search) {\n    id\n    name\n    answers {\n      id\n      response\n      notes {\n        id\n        content\n      }\n      links {\n        id\n        name\n        url\n      }\n    }\n    notes {\n      id\n      content\n    }\n    links {\n      id\n      name\n      url\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ri={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchQuestionsFullText"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionsFullTextSearch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"response"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:356,source:{body:"query searchQuestionsFullText($search: String) {\n  questionsFullTextSearch(search: $search) {\n    id\n    name\n    answers {\n      id\n      response\n      notes {\n        id\n        content\n      }\n      links {\n        id\n        name\n        url\n      }\n    }\n    notes {\n      id\n      content\n    }\n    links {\n      id\n      name\n      url\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},li=[{name:"FullText",value:ri},{name:"Contains",value:ii}],si=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={search:"",searching:!1,searchType:ri,questions:[]},n._searchQuestions=function(){var e=Object(w.a)(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({searching:!0}),e.next=3,n.props.client.query({query:n.state.searchType,variables:{search:t}});case 3:return a=e.sent,n.state.searchType===ri&&n.setState({questions:a.data.questionsFullTextSearch}),n.state.searchType===ii&&n.setState({questions:a.data.searchQuestions}),n.setState({searching:!1}),e.abrupt("return");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.searchType,a=(t.search,t.searching),i=t.questions,l=this.props.classes;return r.a.createElement("div",null,r.a.createElement(ei,{executeSearch:function(t){return e._searchQuestions(t)}}),r.a.createElement($a.a,null,r.a.createElement(Ua.a,{expandIcon:r.a.createElement(Ka.a,null)},r.a.createElement(ke.a,{className:l.heading},"Search Options")),r.a.createElement(Ya.a,null,r.a.createElement(Ve,{value:n,options:li,handleChange:function(t){return e.setState({searchType:t})}}))),a?"Searching":r.a.createElement(ai,{results:i}))}}]),t}(i.Component),ci=Object(D.compose)(Object(x.withStyles)(function(e){return{root:{},searchBar:{display:"flex",flexWrap:"wrap"},searchBox:{flex:"4 1 0",minWidth:330,fontSize:22,outline:"0 0 5px rgba(81, 203, 238, 1)",padding:3*e.spacing.unit,color:e.palette.primary.main,"&:focus":{outline:"2px solid ".concat(e.palette.secondary.main),border:"none"}},searchBtn:{flex:"1 1 0",borderRadius:0,minWidth:130,width:"100%"}}}),D.withApollo)(si),oi=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).handlePageChange=function(e){n.props.history.push(e)},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.actionBar},r.a.createElement(V.a,{className:t.button,onClick:function(){return e.handlePageChange("/stock-qa/create-question")},variant:"outlined",color:"secondary"},"Create Question"),r.a.createElement(V.a,{className:t.button,onClick:function(){return e.handlePageChange("/stock-qa/create-tag")},variant:"outlined",color:"secondary"},"Create Tag"),r.a.createElement(V.a,{className:t.button,onClick:function(){return e.handlePageChange("/stock-qa/all-questions")},variant:"outlined",color:"secondary"},"All Questions")),r.a.createElement(ci,null))}}]),t}(i.Component),ui=Object(L.a)(Object(x.withStyles)(function(e){return{root:{maxWidth:800,marginRight:"auto",marginLeft:"auto"},actionBar:{},button:{margin:"".concat(2*e.spacing.unit,"px ").concat(e.spacing.unit,"px")}}}),N.a,L.b)(oi),di=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){window.addEventListener("scroll",n.handleScroll),document.querySelector("#top-scroll-bar-".concat(n.props.id)).addEventListener("scroll",n.handleTopScroll),n.wrapperRef.addEventListener("scroll",n.handleBottomScroll)},n.componentWillUnmount=function(){window.removeEventListener("scroll",n.handleScroll),document.querySelector("#top-scroll-bar-".concat(n.props.id)).removeEventListener("scroll",n.handleTopScroll),n.wrapperRef.removeEventListener("scroll",n.handleBottomScroll)},n.handleTopScroll=function(){var e=document.querySelector("#top-scroll-bar-".concat(n.props.id)).scrollLeft;n.wrapperRef.scrollLeft=e},n.handleBottomScroll=function(){var e=n.wrapperRef.scrollLeft;document.querySelector("#top-scroll-bar-".concat(n.props.id)).scrollLeft=e},n.handleScroll=function(e){var t=document.querySelector("#affix-target-".concat(n.props.id));n.state.affix;t.getBoundingClientRect().y<0?n.setState({affix:!0,topDist:Math.abs(t.getBoundingClientRect().y)}):t.getBoundingClientRect().y>0&&n.setState({affix:!1,topDist:0})},n.renderRowKey=function(e){var t=e.name,n=(e.key,e.type),a=e.keyClasses;switch(n){case"header":return r.a.createElement("div",{className:"typeHeader ".concat(a)},t);case"p":return r.a.createElement("div",{className:"typeP ".concat(a)},t);case"h1":return r.a.createElement("div",{className:"typeH1 ".concat(a)},t);case"hr":return r.a.createElement("hr",{className:"typeHr ".concat(a)});default:return}},n.zebraStyleOnAffix=function(e,t){return e?1===Math.abs(t%2)?"rgb(242, 242, 242)":"#FCFCFC":"transparent"},n.renderColumn=function(e,t){var a=e.columnTitle,i=e.values,l=t%2===0?"rgba(187, 184, 184, 0.043)":"#f2f2f2",s=n.props.rowProps,c=n.state.affix,o={position:"relative",color:"#444545",fontWeight:"bold",top:"".concat(n.state.topDist,"px"),zIndex:1,textAlign:"center",background:n.zebraStyleOnAffix(c,t)};return r.a.createElement("div",{className:"columnPanel",style:{backgroundColor:l,minWidth:"".concat(n.props.colWidth,"px")}},r.a.createElement("p",{className:"columnTitle",style:o},a),s.map(function(e,t){e.name;var a=e.key,r=(e.type,e.cellClasses,i[a]);return n.renderCellType(e,r)}))},n.renderCellType=function(e,t){e.name,e.key;var a=e.type,i=e.cellClasses;switch(a){case"p":return r.a.createElement("div",{className:"typeP flex-end ".concat(i)},n.getCellValue(t));case"h1":return r.a.createElement("div",{className:"typeH1 flex-end ".concat(i)},n.getCellValue(t));case"header":return r.a.createElement("div",{className:"typeHeader flex-end ".concat(i)},n.getCellValue(t));case"hr":return r.a.createElement("hr",{className:"typeHr ".concat(i)});default:return}},n.getCellValue=function(e){switch(e){case void 0:return"";default:return e}},n.setWrapperRef=n.setWrapperRef.bind(Object(dt.a)(Object(dt.a)(n))),n.state={affix:!1,topDist:0,scrollLeftVal:0,collapsed:!0},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"render",value:function(){var e=this,t=this.props,n=(t.id,t.data),i=t.rowProps,l=(t.columnProps,t.reportWidth),s=t.keyPanelWidth,c=t.colWidth,o=t.name,u=t.maxHeight,d=l-s,m=this.state,p=m.affix,v=m.collapsed,h={top:p?"".concat(this.state.topDist+30,"px"):"30px"},f={maxHeight:v?0:"".concat(u,"px")};return r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement("div",null,r.a.createElement(V.a,{color:"primary",variant:"outlined",onClick:function(){return e.setState({collapsed:!e.state.collapsed})}},"Toggle ",o)),r.a.createElement("div",{id:"affix-target-".concat(this.props.id),className:"lineReport ".concat(v?"hidden":""),style:Object(a.a)({},f)},r.a.createElement("div",{className:"rowKeyPanel"},r.a.createElement("div",{className:"columnTitle"}),i.map(function(t,n){return e.renderRowKey(t,n)})),r.a.createElement("div",{className:"top-scroll-bar",id:"top-scroll-bar-".concat(this.props.id),style:Object(a.a)({},h,{width:"".concat(d,"px"),marginLeft:"".concat(s,"px")})},r.a.createElement("div",{style:{width:"".concat(c*n.length,"px")}},r.a.createElement("div",{style:{visibility:"hidden"}},"You can't see me. But I see you. Lord"," "))),r.a.createElement("div",{className:"columnPanels",ref:this.setWrapperRef},n.map(function(t,n){return e.renderColumn(t,n)}))))}}]),t}(i.Component),mi=[{columnTitle:"Equipment",values:{balBegin:463.38,additions:120,interestExpense:180,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700,depreciation:65}},{columnTitle:"Vehicles",values:{balBegin:109.36,additions:12e3,interestExpense:700}}],pi=[{name:"ROU ASSET CARRYING VALUE ROLL FORWARD",type:"header"},{name:"BALANCE AT THE BEGINNING OF THE PERIOD",key:"balBegin",type:"h1"},{name:"Additions",key:"additions",type:"p",cellClasses:"missing bold",keyClasses:"red"},{type:"hr"},{name:"Interest Expense",key:"interestExpense",type:"p"},{name:"Depreciation",key:"depreciation",cellClasses:"red",type:"p"},{name:"ROU ASSET CARRYING VALUE ROLL FORWARD",type:"header"},{name:"BALANCE AT THE BEGINNING OF THE PERIOD",key:"balBegin",type:"h1"},{name:"Additions",key:"additions",type:"p",cellClasses:"missing bold",keyClasses:"red"},{type:"hr"},{name:"Interest Expense",key:"interestExpense",type:"p"},{name:"Depreciation",key:"depreciation",cellClasses:"red",type:"p"}],vi=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"SOme hocus pocus "),r.a.createElement("h1",null,"digery do "),r.a.createElement("h1",null,"Mr Martin ")),r.a.createElement(di,{id:1,name:"A Disclosure Port",maxHeight:1200,data:mi,rowProps:pi,reportWidth:1200,keyPanelWidth:400,colWidth:180}),r.a.createElement(di,{id:2,name:"A Disclosure Port 2",maxHeight:1200,data:mi,rowProps:pi,reportWidth:1200,keyPanelWidth:400,colWidth:180}),r.a.createElement(di,{id:3,name:"A Disclosure Port 3",maxHeight:1200,data:mi,rowProps:pi,reportWidth:1200,keyPanelWidth:400,colWidth:180}),r.a.createElement(di,{id:4,name:"A Disclosure Port 4",maxHeight:1200,data:mi,rowProps:pi,reportWidth:1200,keyPanelWidth:400,colWidth:180}),r.a.createElement("div",null,r.a.createElement("h1",null,"SOme hocus pocus "),r.a.createElement("h1",null,"digery do "),r.a.createElement("h1",null,"Mr Martin ")),r.a.createElement("div",null,r.a.createElement("h1",null,"SOme hocus pocus "),r.a.createElement("h1",null,"digery do "),r.a.createElement("h1",null,"Mr Martin ")),r.a.createElement("div",null,r.a.createElement("h1",null,"SOme hocus pocus "),r.a.createElement("h1",null,"digery do "),r.a.createElement("h1",null,"Mr Martin ")),r.a.createElement("div",null,r.a.createElement("h1",null,"SOme hocus pocus "),r.a.createElement("h1",null,"digery do "),r.a.createElement("h1",null,"Mr Martin ")))}}]),t}(i.Component),hi=Object(L.a)(N.a,L.b)(vi),fi=Object(x.withStyles)(function(e){return{button:{margin:"".concat(2*e.spacing.unit,"px ").concat(e.spacing.unit,"px")}}})(function(e){var t=e.classes,n=e.config;return r.a.createElement("div",null,n.map(function(e,n){return r.a.createElement(V.a,{className:t.button,onClick:e.action,color:e.color?e.color:"default"},e.name)}))}),ki=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={search:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleSearchChange",value:function(e){this.setState({search:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.search,n=this.props,a=n.classes,i=n.executeSearch;return r.a.createElement("div",{className:a.searchBar},r.a.createElement("input",{placeholder:"search stock questions",className:a.searchBox,value:t,onChange:function(t){return e.handleSearchChange(t)}}),r.a.createElement(V.a,{onClick:function(){return i(e.state.search)},variant:"outlined",color:"secondary",className:a.searchBtn},r.a.createElement(Za.a,null),"Search"))}}]),t}(i.Component),gi=Object(x.withStyles)(function(e){return{root:{},searchBar:{display:"flex",flexWrap:"wrap"},searchBox:{flex:"4 1 0",minWidth:330,fontSize:22,outline:"0 0 5px rgba(81, 203, 238, 1)",padding:3*e.spacing.unit,color:e.palette.primary.main,"&:focus":{outline:"2px solid ".concat(e.palette.secondary.main),border:"none"}},searchBtn:{flex:"1 1 0",borderRadius:0,minWidth:130,width:"100%"}}})(ki),bi=Object(x.withStyles)(function(e){return{expansionPanel:{display:"block"}}})(function(e){var t=e.classes,n=e.search,a=e.selectedTags,i=e.tagOptions,l=e.updateTags,s=e.updateSearch;return r.a.createElement("div",null,r.a.createElement($a.a,null,r.a.createElement(Ua.a,{expandIcon:r.a.createElement(Ka.a,null)},r.a.createElement(ke.a,null,"Results Filter")),r.a.createElement(Ya.a,{className:t.expansionPanel},r.a.createElement(Un,{value:n,fullWidth:!0,handleChange:function(e){return s(e)}}),r.a.createElement(ta,{values:a,options:i,handleChange:function(e){return l(e)},removeItem:function(e){return alert(e)}}))))}),yi=n(299),Oi=n.n(yi),Ei=n(145),Ni=n.n(Ei),Si=n(194),ji=n.n(Si),wi=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={expanded:!1},n.handleExpandClick=function(){n.setState(function(e){return{expanded:!e.expanded}})},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.code,a=(n.id,n.name),i=n.content,l=n.tags;n.links;return r.a.createElement(de.a,{className:t.card},r.a.createElement(Oi.a,{action:[r.a.createElement(Z.a,{className:dn()(t.expand,Object(Wt.a)({},t.expandOpen,this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},r.a.createElement(Ka.a,null)),r.a.createElement(Z.a,null,r.a.createElement(ie.a,null))],subheader:a}),r.a.createElement(Ni.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement("div",null,r.a.createElement("h4",null,"Tags: ",l.map(function(e,t){return e.name}))),r.a.createElement(he.a,null,i)))}}]),t}(r.a.Component),Ci=Object(x.withStyles)(function(e){return Object(Wt.a)({card:{maxWidth:400,marginRight:"auto",marginLeft:"auto",borderRadius:0},actions:{display:"flex"},expand:Object(Wt.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ji.a[500]}},e.breakpoints.up("sm"),{card:{margin:e.spacing.unit}})})(wi),Di=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.results;return r.a.createElement("div",{className:t.root},n.map(function(e,t){return r.a.createElement(Ci,{key:t,code:e})}))}}]),t}(i.Component),Ti=Object(x.withStyles)(function(e){return Object(Wt.a)({root:{display:"block",padding:0}},e.breakpoints.up("sm"),{root:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:2*e.spacing.unit,justifyContent:"space-around"}})})(Di),Fi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"codeSearch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:179,source:{body:"query searchCode($search: String!) {\n  codeSearch(search: $search) {\n    id\n    name\n    content\n    tags {\n      name\n    }\n    links {\n      id\n      name\n      url\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},xi=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={search:"",searching:!1,snippets:[],localSearch:"",localTags:[]},n._getCodeSnippets=function(){var e=n.state,t=e.snippets,a=e.localSearch,i=e.localTags;return a.length>0&&(t=n._find(t,a)),i.length>0&&(t=t.filter(function(e){return n._find(e.tags,i.join(" "))})),t},n._find=function(e,t){return 0!==e.length&&(t=t.split(" "),e.filter(function(e){return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1})}))},n._burnThisCity=function(){alert("Stop playing I have this cannon in my hand")},n._searchCodeSnippets=function(){var e=Object(w.a)(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.client.query({query:Fi,variables:{search:t}});case 2:a=e.sent,n.setState({snippets:a.data.codeSearch});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=(t.search,t.searching),a=t.snippets,l=t.localTags,s=this.props,c=s.classes,o=s.allCodeTags,u=(o.error,o.allCodeTags),d=o.loading;return console.log("CodeKeeper Container Props => ",this.props),console.log("allCodeTags => ",u),r.a.createElement("div",{className:c.root},r.a.createElement("div",{className:c.header},r.a.createElement(fi,{config:[{name:"Create Code Snippet",action:function(){return e._burnThisCity()},color:"primary"},{name:"Create Code Tag",action:function(){return e._burnThisCity()},color:"secondary"}]}),r.a.createElement(gi,{executeSearch:function(t){return e._searchCodeSnippets(t)}}),a.length>=1&&r.a.createElement(bi,{selectedTags:l,tagOptions:d?[]:u.map(function(e){return{name:e.name,value:e.name}}),updateSearch:function(t){return e.setState({localSearch:t})},updateTags:function(t){return e.setState({localTags:t})}})),n?"Searching":r.a.createElement(i.Fragment,null,r.a.createElement(Ti,{results:this._getCodeSnippets()})))}}]),t}(i.Component),Li=Object(D.compose)(Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allCodeTags"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allCodeTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:51,source:{body:"query allCodeTags {\n  allCodeTags {\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"allCodeTags"}),Object(x.withStyles)(function(e){return{root:{},header:{maxWidth:800,marginRight:"auto",marginLeft:"auto"}}}),D.withApollo)(xi),Ai=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Li,null))}}]),t}(i.Component),Ri=Object(L.a)(N.a,L.b)(Ai),Ii=n(125),Vi=n.n(Ii),Bi=n(302),Wi=n.n(Bi),Pi=n(301),qi=n.n(Pi),Mi=n(300),_i=n.n(Mi),Qi={icon:{height:"100%",width:"100%",opacity:.4}},$i=[{title:"Home",path:"/",panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER"],component:Ne},{title:"Wizards Panel",path:"/wizard",icon:r.a.createElement(_i.a,{color:"primary",style:Qi.icon}),panel:!0,main:!0,restricted:["WIZARD"],component:et},{title:"Morning Standup",path:"/standup",icon:r.a.createElement(qi.a,{color:"primary",style:Qi.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:Bt},{title:"Apply for Leave",path:"/leave",icon:r.a.createElement(Wi.a,{color:"primary",style:Qi.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:on},{title:"Applied Leave",path:"/applied-leave",icon:r.a.createElement(pa.a,{color:"primary",style:Qi.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:Va},{title:"Leave Calendar",path:"/leave-calendar",icon:r.a.createElement(Vi.a,{color:"primary",style:Qi.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:_a},{title:"Stock Q/A",path:"/stock-qa",icon:r.a.createElement(Vi.a,{color:"primary",style:Qi.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:ui},{title:"Line Report",path:"/line-report",icon:r.a.createElement(Vi.a,{color:"primary",style:Qi.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:hi},{title:"Code Keeper",path:"/code-keeper",icon:r.a.createElement(Vi.a,{color:"primary",style:Qi.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:Ri}],Hi=Object(D.compose)(Object(x.withStyles)(function(e){return{root:{}}}),Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allTags"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:50,source:{body:"query allTags {\n  allTags {\n    id\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}),D.withApollo)(function(e){var t=e.values,n=e.handleChange,a=e.removeItem,i=e.data,l=i.allTags,s=i.loading;i.error;return r.a.createElement(ta,{label:"Tags",options:s?[]:l.map(function(e){return{name:e.name,value:e.id}}),values:t,removeItem:function(e){return a(e)},handleChange:function(e){return n(e)}})}),Ui=n(122),Gi=n.n(Ui),Yi=function(e){function t(){var e,n;Object(c.a)(this,t);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).defaultState=function(){return{creating:!1,name:"",answers:{create:[],connect:[]},notes:{create:[],connect:[]},links:{create:[],connect:[]},tags:{connect:[]}}},n.state=n.defaultState(),n.addQuestionNote=function(){var e=n.state.notes.create;e.push({content:""}),n.setState({notes:Object(a.a)({},n.state.notes,{create:e})})},n.addAnswer=function(){var e=n.state.answers.create;e.push({response:""}),n.setState({answers:Object(a.a)({},n.state.answers,{create:e})})},n.addQuestionLink=function(){var e=n.state.links.create;e.push({name:"",url:""}),n.setState({links:Object(a.a)({},n.state.links,{create:e})})},n.changeAnswer=function(e,t){var i=n.state.answers.create;i[t].response=e,n.setState({answers:Object(a.a)({},n.state.answers,{create:i})})},n.changeQuestionNote=function(e,t){var i=n.state.notes.create;i[t].content=e,n.setState({notes:Object(a.a)({},n.state.notes,{create:i})})},n.changeQuestionLink=function(e,t,i){var r=n.state.links.create;r[i][e]=t,n.setState({links:Object(a.a)({},n.state.links,{create:r})})},n.setTags=function(e){var t=n.state.tags;t.connect=e.map(function(e){return{id:e}}),n.setState({tags:t})},n.removeTagByValue=function(e){var t=n.state.tags,a=t.connect.findIndex(function(t){return t.id===e});t.connect.splice(a,1),n.setState({tags:t})},n.renderNewQuestionNotes=function(e){return e.map(function(e,t){return r.a.createElement("div",null,r.a.createElement(R.a,{placeholder:"New Question Note",value:e.content,onChange:function(e){return n.changeQuestionNote(e.target.value,t)}}))})},n.renderNewQuestionLinks=function(e){return e.map(function(e,t){return r.a.createElement("div",null,r.a.createElement(R.a,{placeholder:"New Link Name",value:e.name,onChange:function(e){return n.changeQuestionLink("name",e.target.value,t)}}),r.a.createElement(R.a,{placeholder:"New Link URL",value:e.url,onChange:function(e){return n.changeQuestionLink("url",e.target.value,t)}}))})},n.renderNewAnswers=function(e){return e.map(function(e,t){return r.a.createElement("div",null,r.a.createElement(R.a,{placeholder:"New Answer",value:e.response,onChange:function(e){return n.changeAnswer(e.target.value,t)}}))})},n._createQuestion=Object(w.a)(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({creating:!0}),e.prev=1,e.next=4,n.props.createStockQuestion({variables:{data:{name:n.state.name,answers:n.state.answers,notes:n.state.notes,links:n.state.links,tags:n.state.tags}}});case 4:t=e.sent,alert("New Question has been created => "+JSON.stringify(t)),n.clearComponent(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}},e,this,[[1,9,12,14]])})),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.creating,a=(t.name,t.answers),i=t.notes,l=t.links,s=t.tags,c=this.props,o=c.classes,u=c.data,d=(u.loading,u.error,u.allTags),m=(d&&d.map(function(e){return{name:e.name,value:e.id}}),s.connect.map(function(e){return e.id}));return r.a.createElement("div",{className:o.root},r.a.createElement(R.a,{id:"create-stock-question-input",label:"New Stock Question",className:o.questionInput,value:this.state.name,multiline:!0,onChange:function(t){return e.setState({name:t.target.value})},margin:"normal"}),r.a.createElement(Hi,{values:m,handleChange:function(t){return e.setTags(t)},removeItem:function(t){return e.removeTagByValue(t)}}),r.a.createElement(ke.a,{className:o.heading},"Answers"),a.create?this.renderNewAnswers(a.create):null,r.a.createElement(V.a,{color:"secondary",size:"small",onClick:function(){return e.addAnswer()}},r.a.createElement(Gi.a,null)," New Answer"),r.a.createElement(ke.a,{className:o.heading},"Notes"),r.a.createElement(V.a,{color:"secondary",size:"small",onClick:function(){return e.addQuestionNote()}},r.a.createElement(Gi.a,null),"New Note"),i.create?this.renderNewQuestionNotes(i.create):null,r.a.createElement(ke.a,{className:o.heading},"Links"),r.a.createElement(V.a,{color:"secondary",size:"small",onClick:function(){return e.addQuestionLink()}},r.a.createElement(Gi.a,null),"New Link"),l.create?this.renderNewQuestionLinks(l.create):null,r.a.createElement("hr",null),n?"Creating Question":r.a.createElement(V.a,{color:"secondary",variant:"outlined",onClick:function(){return e._createQuestion()}},"Submit New Question/Answers"))}},{key:"clearComponent",value:function(){this.setState(this.defaultState())}}]),t}(i.Component),zi=Object(D.compose)(Object(x.withStyles)(function(e){return{root:{maxWidth:800,marginRight:"auto",marginLeft:"auto"},heading:{fontSize:18,color:e.palette.primary.main},questionInput:{width:"100%"}}}),Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allTags"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:50,source:{body:"query allTags {\n  allTags {\n    id\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}),Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createQuestion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"QuestionCreateInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createQuestion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"response"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:278,source:{body:"mutation createQuestion($data: QuestionCreateInput) {\n  createQuestion(data: $data) {\n    id\n    name\n    answers {\n      id\n      response\n    }\n    notes {\n      id\n      content\n    }\n    links {\n      id\n      name\n      url\n    }\n    tags {\n      id\n      name\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"createStockQuestion"}),D.withApollo)(Yi),Ki={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allTags"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:50,source:{body:"query allTags {\n  allTags {\n    id\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ji={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newTag"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:69,source:{body:"subscription {\n  newTag {\n    node {\n      id\n      name\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Zi=[{id:"name",numeric:!1,disablePadding:!0,label:"name",show:!0,tableRenderKey:"th",found:"name",searchable:!0}],Xi=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).defaultState=function(){return{name:""}},n.state=n.defaultState(),n._subscribeToNewTags=function(){var e=Object(w.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({document:Ji,updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.newTag.node;return Object.assign({},e,{allTags:[a].concat(Object(oe.a)(e.allTags))})}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n._createTag=Object(w.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.createTag({variables:{name:n.state.name}}).catch(function(e){alert(e)});case 1:case"end":return e.stop()}},e,this)})),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=(t.creating,t.name),a=this.props.classes;return r.a.createElement("div",{className:a.root},r.a.createElement(R.a,{id:"create-tag",label:"New Tag",className:a.questionInput,value:n,multiline:!0,onChange:function(t){return e.setState({name:t.target.value})},margin:"normal"}),r.a.createElement(V.a,{onClick:function(){return e._createTag()},variant:"outlined"},"Create Tag"),r.a.createElement(D.Query,{query:Ki},function(t){var n=t.loading,a=t.error,i=t.data,l=t.subscribeToMore;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error: ",a.message);var s=function(){var e=Object(w.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l({document:Ji,updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.newTag.node;return Object.assign({},e,{allTags:[a].concat(Object(oe.a)(e.allTags))})}}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(da,{columnHeaders:Zi,subscribeToMore:s,title:"Table of Tags",data:i.allTags,executeFunc:function(t,n){e.executeFunctionByName(t,n)}})}))}},{key:"clearComponent",value:function(){this.setState(this.defaultState())}}]),t}(i.Component),er=Object(D.compose)(Object(x.withStyles)(function(e){return{root:{maxWidth:800,marginRight:"auto",marginLeft:"auto"},heading:{fontSize:18,color:e.palette.primary.main},questionInput:{width:"100%"}}}),Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createTag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createTag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:86,source:{body:"mutation createTag($name: String!) {\n  createTag(name: $name) {\n    id\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"createTag"}),D.withApollo)(Xi),tr=(r.a.PureComponent,n(303)),nr=n.n(tr),ar=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e)))._update=Object(w.a)(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.updateStockQuestion({variables:{id:n.state.id,data:{name:n.state.name,answers:Object(a.a)({},n.state.answers),tags:Object(a.a)({},n.state.tags)}}});case 3:t=e.sent,n.props.updateQuestion(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:return e.prev=10,n.setState({canUpdate:!1}),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])})),n.toggleEditing=function(e){n.setState({editing:e})},n.updateName=function(e){n.setState({name:e})},n.updateAnswer=function(e,t){var a=n.state.answers;a[t].response=e,n.setState({answers:a})},n.renderName=function(e,t){var a=n.props.classes;return t?r.a.createElement(R.a,{className:a.questionInput,label:"Question",multiline:!0,value:e,onChange:function(e){return n.updateName(e.target.value)}}):r.a.createElement(ke.a,{className:a.title,color:"textSecondary",gutterBottom:!0},e)},n.addAnswer=function(){var e=n.state.answers;e.create.push({response:""}),n.setState({answers:e})},n.updateKnownAnswer=function(e,t){var a=n.state.answers;a.update[t].data.response=e,n.setState({answers:a})},n.updateCreateAnswer=function(e,t){var a=n.state.answers;a.create[t].response=e,n.setState({answers:a})},n.setTags=function(e){var t=e.map(function(e){return{id:e}}),a=n.state.tags.connect.map(function(e){return{id:e.id}}),i=Object(aa.a)(a,t);n.setState({tags:{connect:t,disconnect:n.state.tags.disconnect.concat(i)}})},n.removeTagByValue=function(e){alert("To DO removeTagByValue on EditableQuestionCard")},n.renderKnownAnswers=function(e,t){var a=n.props.classes;return e.map(function(e,l){return t?r.a.createElement(i.Fragment,null,r.a.createElement(R.a,{className:a.answerInput,label:"Update Answer ".concat(l+1),multiline:!0,value:e.data.response,onChange:function(e){return n.updateKnownAnswer(e.target.value,l)}})):r.a.createElement("ul",null,r.a.createElement("li",null,"response",e.data.response))})},n.renderCreateAnswers=function(e,t){var a=n.props.classes;return e.map(function(e,l){return t?r.a.createElement(i.Fragment,null,r.a.createElement(R.a,{className:a.createAnswerInput,label:"Create New Answer ".concat(l+1),multiline:!0,value:e.response,onChange:function(e){return n.updateCreateAnswer(e.target.value,l)}})):r.a.createElement("ul",null,r.a.createElement("li",null,"response",e.response))})},n.renderTags=function(e,t){var a=n.props.classes;return t?r.a.createElement(Hi,{values:e.map(function(e){return e.id}),handleChange:function(e){return n.setTags(e)},removeItem:function(e){return n.removeTagByValue(e)}}):r.a.createElement("div",{className:a.chips},e.map(function(e,t){return r.a.createElement(Kn.a,{icon:r.a.createElement(ea.a,{mini:!0}),variant:"outlined",color:"secondary",label:e.name,className:a.chip,key:e.id})}))},n.state={editing:!1,canUpdate:!1,id:e.question.id,name:e.question.name,answers:{update:e.question.answers.map(function(e){return{where:{id:e.id},data:{response:e.response}}}),create:[]},links:{update:e.question.links.map(function(e){return{where:{id:e.id},data:{name:e.name,url:e.url}}})},notes:{update:e.question.notes.map(function(e){return{where:{id:e.id},data:{content:e.content}}})},tags:{connect:e.question.tags.map(function(e){return{id:e.id,name:e.name}}),disconnect:[]}},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){t!==this.state&&!1===this.state.canUpdate&&this.setState({canUpdate:!0})}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.editing,i=n.canUpdate,l=(n.id,n.name),s=n.answers,c=(n.links,n.notes,n.tags);return r.a.createElement(de.a,{className:t.card},r.a.createElement(nr.a,{onChange:function(){return e.toggleEditing(!e.state.editing)},checked:this.state.editing}),r.a.createElement(he.a,null,this.renderName(l,a),r.a.createElement("div",null,this.renderTags(c.connect,a)),r.a.createElement("div",null,this.renderKnownAnswers(s.update,a)),r.a.createElement("div",null,this.renderCreateAnswers(s.create,a)),a&&r.a.createElement(V.a,{onClick:function(){return e.addAnswer()}},"Add answer")),r.a.createElement(pe.a,null,i&&r.a.createElement(V.a,{size:"small",onClick:function(){return e._update()}},"Update")))}}]),t}(i.Component),ir=Object(D.compose)(Object(x.withStyles)(function(e){return{card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:e.spacing.unit/4},questionInput:{width:"100%"},answerInput:{width:"100%"},createAnswerInput:{width:"100%"}}},{withTheme:!0}),Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateQuestion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QuestionUpdateInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateQuestion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"response"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:298,source:{body:"mutation updateQuestion($id: ID!, $data: QuestionUpdateInput!) {\n  updateQuestion(id: $id, data: $data) {\n    id\n    name\n    answers {\n      id\n      response\n    }\n    notes {\n      id\n      content\n    }\n    links {\n      id\n      name\n      url\n    }\n    tags {\n      id\n      name\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"updateStockQuestion"}),D.withApollo)(ar),rr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"questionFeed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"QuestionOrderByInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"response"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:445,source:{body:"query questionFeed(\n  $filter: String\n  $skip: Int\n  $first: Int\n  $orderBy: QuestionOrderByInput\n) {\n  questionFeed(filter: $filter, skip: $skip, first: $first, orderBy: $orderBy) {\n    count\n    questions {\n      id\n      name\n      answers {\n        id\n        response\n      }\n      links {\n        id\n        name\n        url\n      }\n      notes {\n        id\n        content\n      }\n      tags {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},lr=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={modalIsOpen:!1,modalDetailsObj:{}},n._getQueryVariables=function(){return{first:h,skip:0,orderBy:"createdAt_DESC"}},n._fetchMore=function(e,t){e({variables:{skip:t+1,first:h,orderBy:"createdAt_DESC"},updateQuery:function(e,t){var n=t.fetchMoreResult;return n?Object.assign({},e,{questionFeed:{count:n.questionFeed.count,questions:Object(oe.a)(e.questionFeed.questions).concat(Object(oe.a)(n.questionFeed.questions)),__typename:"QuestionFeed",__proto__:Object}}):e}})},n._updateQuestionInCache=function(e,t){t(function(t){console.group("_updateQuestionInCache"),console.log("previousResult => ",t),console.log("updatedQuestion => ",e);var n=e.data.updateQuestion,a=t.questionFeed.questions,i=e.data.updateQuestion.id,r=a.findIndex(function(e){return e.id===i});return console.log("foundIndex => ",r),a.splice(r,1,n),console.log("Look at all questions now please ",a),console.groupEnd(),alert("Question has been updated "+JSON.stringify(n)),Object.assign({},t,{questionFeed:{count:t.questionFeed.count,questions:Object(oe.a)(t.questionFeed.questions),__typename:"QuestionFeed",__proto__:Object}})})},n.showDetails=function(e){n.setState({modalDetailsObj:e}),n.openModal()},n.renderModalDetails=function(e){var t=n.state.modalDetailsObj;return r.a.createElement("div",null,r.a.createElement(ir,{question:t,updateQuestion:function(t){n._updateQuestionInCache(t,e)}}))},n.columnHeaders=function(){return[{id:"name",numeric:!1,disablePadding:!0,label:"name",show:!0,tableRenderKey:"th",found:"name",searchable:!0},{id:"tags",label:"More Tags",show:!0,type:"tag",tagKey:"name",found:"tags"},{id:"showDetails",numeric:!1,disablePadding:!0,label:"Show Details",show:!0,type:"btnFunc",icon:r.a.createElement(V.a,{color:"primary","aria-label":"Add to shopping cart"},"Show Details"),funcName:"showDetails",found:"votes",tableRenderKey:"th"}]},n.executeFunctionByName=function(e,t){switch(e){case"showDetails":n.showDetails(t);break;default:alert("No function specified")}},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.modalIsOpen,a=t.modalDetailsObj,l=this.props.data,s=(l.loading,l.error,l.allTags);return r.a.createElement(D.Query,{query:rr,variables:this._getQueryVariables()},function(t){var l=t.loading,c=t.error,o=t.data,u=(t.subscribeToMore,t.fetchMore),d=t.updateQuery;if(l&&!o.questionFeed)return r.a.createElement("div",null,"Fetching");if(c)return r.a.createElement("div",null,"Error");var m=o.questionFeed;if(!m)return"No Question Feed";var p=m.questions,v=m.count;return p.length<v&&e._fetchMore(u,p.length),r.a.createElement(i.Fragment,null,n?r.a.createElement(Ea,{title:a.name,width:800,height:500,close:function(){return e.closeModal()}},e.renderModalDetails(d)):null,r.a.createElement("div",null,r.a.createElement(da,{columnHeaders:e.columnHeaders(),tags:{found:"tags",key:"id",options:s?s.map(function(e){return{name:e.name,value:e.id}}):[]},title:"Table of Stock questions",data:p,executeFunc:function(t,n){e.executeFunctionByName(t,n)}})))})}}]),t}(i.Component),sr=Object(D.compose)(Object(D.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allTags"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:50,source:{body:"query allTags {\n  allTags {\n    id\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}),D.withApollo)(lr),cr={icon:{height:"100%",width:"100%",opacity:.4}},or=[{title:"Create Stock Question",path:"/stock-qa/create-question",icon:r.a.createElement(Ue.a,{color:"primary",style:cr.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:zi},{title:"Create Tag",path:"/stock-qa/create-tag",icon:r.a.createElement(Ue.a,{color:"primary",style:cr.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:er},{title:"All Stock Questions",path:"/stock-qa/all-questions",icon:r.a.createElement(Ue.a,{color:"primary",style:cr.icon}),panel:!0,main:!0,restricted:["DEVELOPER","PROJECT_MANAGER","ONBOARDER","WIZARD"],component:sr}],ur=Object(oe.a)($i).concat(Object(oe.a)(Ge),Object(oe.a)(or)),dr=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={auth:!0,anchorEl:null},n.logoutUser=function(){n.props.history.push("/"),localStorage.removeItem(p)},n.handlePageChange=function(e){n.handleClose(),n.props.history.push(e)},n.handleChange=function(e){n.setState({auth:e.target.checked})},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=(localStorage.getItem(p),this.props),n=t.classes,a=t.history,i=(t.match,t.user.role),l=a.location.pathname;return r.a.createElement("div",{className:n.root},r.a.createElement(U.a,{position:"static"},r.a.createElement(Y.a,null,l&&"/"!==l&&r.a.createElement(K,null),r.a.createElement("div",null,"[DEV DASHBOARD]"),r.a.createElement(le,{items:ur.filter(function(e){return e.restricted.includes(i)}).filter(function(e){return e.main})}),r.a.createElement(ce,{logoutUser:function(){return e.logoutUser()}}))))}}]),t}(r.a.Component),mr=Object(B.b)(function(e){return{user:e.user}}),pr=Object(L.a)(N.a,Object(x.withStyles)({root:{flexGrow:1},flex:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}},{withTheme:!0}),mr)(dr),vr=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.getItem(p)?r.a.createElement("div",{className:"center w85"},r.a.createElement(pr,null),r.a.createElement("div",null,r.a.createElement(O.a,null,ur.map(function(e,t){return r.a.createElement(E.a,{exact:!0,path:e.path,component:e.component,key:e.path})})))):r.a.createElement("div",null,r.a.createElement($,null))}}]),t}(i.Component),hr=Object(N.a)(vr),fr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function kr(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var gr=n(269),br=n(311),yr=n(635),Or=n(636),Er=n(305),Nr=n(37),Sr=n(312),jr=n(271),wr=n(306),Cr=n.n(wr),Dr=n(93),Tr=n(307),Fr=n(308),xr=n(314),Lr={token:localStorage.getItem("jwt"),validToken:!1,name:"",email:"",role:""},Ar=Object(Dr.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DETAILS":return localStorage.setItem(p,t.payload.token),Object(a.a)({},e,t.payload);case"LOGOUT_USER":return localStorage.removeItem(p),Object(a.a)({},e,{name:"",email:"",role:"",token:null,validToken:!1});default:return e}}}),Rr=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),Ir=Object(Dr.a)(Object(xr.a)(),Fr.a,Object(Tr.createLogger)()),Vr=Object(Dr.d)(Ar,Rr,Ir),Br=n(197),Wr=n.n(Br),Pr=n(309);Vr.subscribe(Cr()(function(){var e=Vr.getState(),t=Object.keys(e).filter(function(e){return v.includes(e)}).reduce(function(t,n){return t[n]=e[n],t},{});!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(Object(a.a)({},t))},1500));var qr=Object(br.a)({uri:"http://localhost:4000"}),Mr=Object(Er.a)(function(e,t){var n=t.headers,i=localStorage.getItem(p);return{headers:Object(a.a)({},n,{authorization:i?"Bearer ".concat(i):""})}}),_r=new Sr.a({uri:"ws://localhost:4000",options:{reconnect:!0,connectionParams:{authToken:localStorage.getItem(p)}}}),Qr=Object(Nr.e)(function(e){var t=e.query,n=Object(jr.e)(t),a=n.kind,i=n.operation;return"OperationDefinition"===a&&"subscription"===i},_r,Mr.concat(qr)),$r=new gr.a({link:Qr,cache:new yr.a});s.a.render(r.a.createElement(B.a,{store:Vr},r.a.createElement(Or.a,null,r.a.createElement(D.ApolloProvider,{client:$r},r.a.createElement(Wr.a,{utils:Pr.a},r.a.createElement(hr,null))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/nomos-dashboard-client/build",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/nomos-dashboard-client/build","/service-worker.js");fr?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):kr(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):kr(t,e)})}}()}},[[317,2,1]]]);
//# sourceMappingURL=main.3a425a50.chunk.js.map